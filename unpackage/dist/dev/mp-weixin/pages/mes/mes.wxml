<view class="container data-v-bb2249ad"><view wx:if="{{a}}" class="login-required data-v-bb2249ad"><view class="login-card data-v-bb2249ad"><view class="login-icon data-v-bb2249ad">🔐</view><text class="login-title data-v-bb2249ad">请先登录</text><text class="login-desc data-v-bb2249ad">登录后即可查看和管理您的消息</text><button class="login-btn data-v-bb2249ad" bindtap="{{b}}"><text class="login-btn-text data-v-bb2249ad">立即登录</text></button></view></view><view wx:else class="message-container data-v-bb2249ad"><view class="custom-navbar data-v-bb2249ad"><view class="status-bar data-v-bb2249ad" style="{{'height:' + c}}"></view><view class="nav-content data-v-bb2249ad"><text class="nav-title data-v-bb2249ad">消息</text><view class="nav-right data-v-bb2249ad"><view class="logout-btn data-v-bb2249ad" bindtap="{{d}}"><text class="logout-text data-v-bb2249ad">登出</text></view></view></view></view><view class="filter-tabs-fixed data-v-bb2249ad" style="{{'top:' + s}}"><view class="tabs-container data-v-bb2249ad"><view class="{{['filter-tab', 'data-v-bb2249ad', g && 'active']}}" bindtap="{{h}}"> 全部 <view wx:if="{{e}}" class="tab-badge data-v-bb2249ad">{{f}}</view></view><view class="{{['filter-tab', 'data-v-bb2249ad', k && 'active']}}" bindtap="{{l}}"> 系统消息 <view wx:if="{{i}}" class="tab-badge data-v-bb2249ad">{{j}}</view></view><view class="{{['filter-tab', 'data-v-bb2249ad', o && 'active']}}" bindtap="{{p}}"> 群组消息 <view wx:if="{{m}}" class="tab-badge data-v-bb2249ad">{{n}}</view></view></view><view wx:if="{{q}}" class="mark-all-read-btn data-v-bb2249ad" bindtap="{{r}}"><text class="mark-all-icon data-v-bb2249ad">✓</text><text class="mark-all-text data-v-bb2249ad">全部已读</text></view></view><recycle-view wx:if="{{z}}" u-s="{{['d']}}" class="message-list data-v-bb2249ad" style="{{'margin-top:' + y}}" u-i="bb2249ad-0" bind:__l="__l" u-p="{{z}}"><recycle-item wx:for="{{t}}" wx:for-item="msg" wx:key="r" u-s="{{['d']}}" class="message-item-wrapper data-v-bb2249ad" u-i="{{msg.s}}" bind:__l="__l"><view class="{{['message-item', 'data-v-bb2249ad', msg.p]}}" bindtap="{{msg.q}}"><view class="message-indicator data-v-bb2249ad"><view class="{{['indicator-dot', 'data-v-bb2249ad', msg.a]}}"></view></view><view class="avatar-container data-v-bb2249ad"><image wx:if="{{msg.b}}" src="{{msg.c}}" class="avatar group-avatar data-v-bb2249ad" mode="aspectFill" lazy-load="{{true}}" fade-show="{{false}}" binderror="{{msg.d}}"/><view wx:else class="system-icon data-v-bb2249ad"><text class="icon data-v-bb2249ad">📢</text></view><view wx:if="{{msg.e}}" class="unread-badge data-v-bb2249ad"></view></view><view class="msg-content data-v-bb2249ad"><view class="msg-title-row data-v-bb2249ad"><text class="msg-title data-v-bb2249ad">{{msg.f}}</text><view wx:if="{{msg.g}}" class="msg-priority data-v-bb2249ad"></view></view><text class="msg-brief data-v-bb2249ad">{{msg.h}}</text><view class="msg-footer data-v-bb2249ad"><view class="msg-meta data-v-bb2249ad"><text class="msg-time data-v-bb2249ad">{{msg.i}}</text><text wx:if="{{msg.j}}" class="member-count data-v-bb2249ad">{{msg.k}}人</text></view><view class="msg-source data-v-bb2249ad"><text wx:if="{{msg.l}}" class="tag system-tag data-v-bb2249ad">系统消息</text><text wx:else class="tag group-tag data-v-bb2249ad">{{msg.m}}</text></view></view></view><view class="msg-actions data-v-bb2249ad"><view class="action-btn data-v-bb2249ad" catchtap="{{msg.o}}"><text class="action-icon data-v-bb2249ad">{{msg.n}}</text></view><text class="chevron-icon data-v-bb2249ad">›</text></view></view></recycle-item><view wx:if="{{v}}" class="empty data-v-bb2249ad"><view class="empty-icon data-v-bb2249ad">💬</view><text class="empty-title data-v-bb2249ad">{{w}}</text><text class="empty-desc data-v-bb2249ad">{{x}}</text></view></recycle-view></view></view>