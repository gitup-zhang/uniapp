{"version":3,"file":"PolicyList.js","sources":["store/PolicyList.js"],"sourcesContent":["import { defineStore } from 'pinia'\nimport { ref } from 'vue'\nimport { getPolicyList } from '@/new-apis/policy.js'\n\nexport const usePolicyStore = defineStore('policylist', () => {\r\n\t// 获取的列表\n  const listpolicy = ref([])\r\n  // 是否正确返回信息标志位与信息\r\n  const message=ref(\"\")\r\n  \n\n  const getlistpolicy = async () => {\n    uni.showLoading({\n      title: '加载中...',\n      mask: true\n    })\n\n    try {\r\n\t\tmessage.value=\"\"\r\n\t\n      const res = await getPolicyList({})  // 正确使用 await\n      console.log('示例数据：', res.data)\n      listpolicy.value = res.data           // 正常赋值\n    } catch (error) {\r\n\t\tmessage.value=error.data.error\n      console.log(message.value)\n    } finally {\n      uni.hideLoading()\n    }\n  }\n\n  return {\n    getlistpolicy,\n    listpolicy,\r\n\tmessage\n  }\n})\n"],"names":["defineStore","ref","uni","getPolicyList"],"mappings":";;;AAIY,MAAC,iBAAiBA,cAAAA,YAAY,cAAc,MAAM;AAE5D,QAAM,aAAaC,cAAG,IAAC,EAAE;AAEzB,QAAM,UAAQA,cAAG,IAAC,EAAE;AAGpB,QAAM,gBAAgB,YAAY;AAChCC,kBAAAA,MAAI,YAAY;AAAA,MACd,OAAO;AAAA,MACP,MAAM;AAAA,IACZ,CAAK;AAED,QAAI;AACN,cAAQ,QAAM;AAEV,YAAM,MAAM,MAAMC,eAAa,cAAC,EAAE;AAClCD,oBAAY,MAAA,MAAA,OAAA,6BAAA,SAAS,IAAI,IAAI;AAC7B,iBAAW,QAAQ,IAAI;AAAA,IACxB,SAAQ,OAAO;AAClB,cAAQ,QAAM,MAAM,KAAK;AACrBA,oBAAAA,MAAA,MAAA,OAAA,6BAAY,QAAQ,KAAK;AAAA,IAC/B,UAAc;AACRA,oBAAAA,MAAI,YAAa;AAAA,IAClB;AAAA,EACF;AAED,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACH;AAAA,EACE;AACH,CAAC;;"}