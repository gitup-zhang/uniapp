{"version":3,"file":"PolicyList.js","sources":["store/PolicyList.js"],"sourcesContent":["import { defineStore } from 'pinia'\nimport { ref } from 'vue'\nimport { getPolicyList,getPolicyField } from '@/new-apis/policy.js'\n\nexport const usePolicyStore = defineStore('policylist', () => {\r\n\t// 获取的列表\n  const listpolicy = ref([])\r\n\r\n  // 是否正确返回信息标志位与信息\r\n  const message=ref(\"\")\r\n  \n\n  const getlistpolicy = async () => {\n    uni.showLoading({\n      title: '加载中...',\n      mask: true\n    })\n\n    try {\r\n\t\tmessage.value=\"\"\r\n\t\n      const res = await getPolicyList({})  // 正确使用 await\n      console.log('示例数据：', res.data)\n      listpolicy.value = res.data           // 正常赋值\n    } catch (error) {\r\n\t\tmessage.value=error.data.error\n      console.log(message.value)\n    } finally {\n      uni.hideLoading()\n    }\n  }\r\n  \r\n  \r\n  // 搜索框\r\n  const searchpolicy=async(params)=>{\r\n\t  \r\n\t  uni.showLoading({\r\n\t    title: '加载中...',\r\n\t    mask: true\r\n\t  })\r\n\t  \r\n\t  try {\r\n\t  \tmessage.value=\"\"\r\n\r\n\t    const res = await getPolicyList(params) \r\n\t\t\r\n\t    console.log('示例数据：', res.data)\r\n\t    listpolicy.value = res.data           // 正常赋值\r\n\t  } catch (error) {\r\n\r\n\t\t  console.log(error)\r\n\t  \t// message.value=error.data.error\r\n\t   //  console.log(message.value)\r\n\t  } finally {\r\n\t    uni.hideLoading()\r\n\t  }\r\n  }\n\n  return {\n    getlistpolicy,\n    listpolicy,\r\n\tmessage,\r\n\tsearchpolicy,\r\n\n  }\n})\n"],"names":["defineStore","ref","uni","getPolicyList"],"mappings":";;;AAIY,MAAC,iBAAiBA,cAAAA,YAAY,cAAc,MAAM;AAE5D,QAAM,aAAaC,cAAG,IAAC,EAAE;AAGzB,QAAM,UAAQA,cAAG,IAAC,EAAE;AAGpB,QAAM,gBAAgB,YAAY;AAChCC,kBAAAA,MAAI,YAAY;AAAA,MACd,OAAO;AAAA,MACP,MAAM;AAAA,IACZ,CAAK;AAED,QAAI;AACN,cAAQ,QAAM;AAEV,YAAM,MAAM,MAAMC,eAAa,cAAC,EAAE;AAClCD,oBAAY,MAAA,MAAA,OAAA,6BAAA,SAAS,IAAI,IAAI;AAC7B,iBAAW,QAAQ,IAAI;AAAA,IACxB,SAAQ,OAAO;AAClB,cAAQ,QAAM,MAAM,KAAK;AACrBA,oBAAAA,MAAA,MAAA,OAAA,6BAAY,QAAQ,KAAK;AAAA,IAC/B,UAAc;AACRA,oBAAAA,MAAI,YAAa;AAAA,IAClB;AAAA,EACF;AAID,QAAM,eAAa,OAAM,WAAS;AAEjCA,kBAAAA,MAAI,YAAY;AAAA,MACd,OAAO;AAAA,MACP,MAAM;AAAA,IACX,CAAI;AAED,QAAI;AACH,cAAQ,QAAM;AAEb,YAAM,MAAM,MAAMC,eAAa,cAAC,MAAM;AAEtCD,oEAAY,SAAS,IAAI,IAAI;AAC7B,iBAAW,QAAQ,IAAI;AAAA,IACxB,SAAQ,OAAO;AAEfA,oBAAAA,MAAY,MAAA,OAAA,6BAAA,KAAK;AAAA,IAGrB,UAAa;AACRA,oBAAAA,MAAI,YAAa;AAAA,IAClB;AAAA,EACD;AAED,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACH;AAAA,IACA;AAAA,EAEE;AACH,CAAC;;"}