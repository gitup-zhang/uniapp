{"version":3,"file":"mymessage.js","sources":["pages/mymessage/mymessage.vue","D:/Hbuild/HBuilderX.4.64.2025042916/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbXltZXNzYWdlL215bWVzc2FnZS52dWU"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 状态栏占位 -->\n    <view class=\"status-bar\" :style=\"{ height: statusBarHeight + 'px' }\"></view>\n    <!-- 导航栏 -->\r\n    <view class=\"nav-bar\">\r\n      \r\n      <text class=\"nav-title\">个人信息</text>\r\n      <view class=\"nav-right\"></view>\r\n    </view>\n    <!-- 未登录状态 - 优化后的登录界面 -->\n    <view v-if=\"!userInfo.signal\" class=\"login-container\">\n      <view class=\"login-background\">\n        <!-- 动态背景装饰 -->\n        <view class=\"animated-bg\">\n          <view class=\"floating-circle circle-1\"></view>\n          <view class=\"floating-circle circle-2\"></view>\n          <view class=\"floating-circle circle-3\"></view>\n          <view class=\"floating-circle circle-4\"></view>\n          <view class=\"floating-circle circle-5\"></view>\n        </view>\n        \n        <!-- 登录卡片 -->\n        <view class=\"login-card\">\n          <!-- Logo区域 -->\n          <view class=\"logo-section\">\n            <view class=\"logo-wrapper\">\n              <image class=\"logo-image\" src=\"/static/icon/logo.png\" mode=\"aspectFit\"/>\n              <view class=\"logo-shine\"></view>\n            </view>\n            <text class=\"app-title\">智慧平台</text>\n            <text class=\"app-slogan\">连接智慧，创造未来</text>\n          </view>\n          \n          <!-- 特性展示 -->\n          <view class=\"features-showcase\">\n            <view class=\"feature-card\" v-for=\"(feature, index) in loginFeatures\" :key=\"index\">\n              <view class=\"feature-icon\" :class=\"feature.iconClass\">\n                <uni-icons :type=\"feature.icon\" size=\"24\" :color=\"feature.color\"/>\n              </view>\n              <view class=\"feature-content\">\n                <text class=\"feature-title\">{{ feature.title }}</text>\n                <text class=\"feature-desc\">{{ feature.desc }}</text>\n              </view>\n            </view>\n          </view>\n          \n          <!-- 登录按钮区域 -->\n          <view class=\"login-section\">\n            <button \n              class=\"modern-login-btn\" \n              open-type=\"getPhoneNumber\" \n              @getphonenumber=\"handlePhoneAuth\"\n              :disabled=\"isLogging\"\n            >\n              <view class=\"btn-content\">\n                <view class=\"btn-icon\" v-if=\"!isLogging\">\n                  <uni-icons type=\"phone-filled\" size=\"20\" color=\"#fff\"/>\n                </view>\n                <uni-load-more v-if=\"isLogging\" status=\"loading\" color=\"#fff\" :content-text=\"{ contentnomore: '' }\"/>\n                <text class=\"btn-text\">{{ isLogging ? '正在登录...' : '手机号快速登录' }}</text>\n              </view>\n              <view class=\"btn-shine\"></view>\n            </button>\n            \n            <view class=\"privacy-notice\">\n              <text class=\"notice-text\">登录即表示同意</text>\n              <text class=\"notice-link\" @click=\"showUserAgreement\">《用户协议》</text>\n              <text class=\"notice-text\">和</text>\n              <text class=\"notice-link\" @click=\"showPrivacyPolicy\">《隐私政策》</text>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n\n    <!-- 已登录状态 - 优化后的主界面 -->\n    <view v-else class=\"main-container\">\n      <!-- 简洁的头部区域 -->\n      <view class=\"header\">\n        <view class=\"header-content\">\n          <!-- 用户信息卡片 -->\n          <view class=\"user-card\" @click=\"goToProfile\">\n            <view class=\"avatar-section\">\n              <image \n                class=\"user-avatar\" \n                :src=\"userInfo.info.Image || '/static/icon/empty.png'\" \n                mode=\"aspectFill\"\n              />\n              <view class=\"online-indicator\">\n                <view class=\"indicator-dot\"></view>\n              </view>\n            </view>\n            \n            <view class=\"user-details\">\n              <text class=\"user-name\">{{ userInfo.info.username || '用户' }}</text>\n              <text class=\"user-phone\">{{ formatPhoneNumber(userInfo.info.phone) }}</text>\n              <text class=\"user-signature\">{{ userInfo.info.slogan || '点击设置个人签名' }}</text>\n            </view>\n            \n            <view class=\"profile-enter\">\n              <uni-icons type=\"right\" size=\"18\" color=\"rgba(255,255,255,0.8)\"/>\n            </view>\n          </view>\n        </view>\n        \n        <!-- 头部装饰 -->\n        <view class=\"header-decoration\">\n          <view class=\"deco-circle deco-1\"></view>\n          <view class=\"deco-circle deco-2\"></view>\n        </view>\n      </view>\n\n      <!-- 主要内容区域 -->\n      <view class=\"main-content\">\n        <!-- 数据统计卡片 -->\n        <view class=\"stats-overview\">\n          <view class=\"stats-header\">\n            <view class=\"stats-icon-wrapper\">\n              <image class=\"stats-icon\" src=\"/static/icon/fire.png\" mode=\"aspectFit\"/>\n            </view>\n            <view class=\"stats-info\">\n              <text class=\"stats-title\">我的数据统计</text>\n              <text class=\"stats-subtitle\">累计在线 {{ userInfo.info.daysOnline || 0 }} 天</text>\n            </view>\n          </view>\n          \n          <view class=\"stats-grid\">\n            <view class=\"stat-item\">\n              <text class=\"stat-number\">{{ userInfo.info.newsViews || 0 }}</text>\n              <text class=\"stat-label\">新闻阅读</text>\n              <view class=\"stat-trend\">\n                <uni-icons type=\"up\" size=\"12\" color=\"#2ed573\"/>\n                <text class=\"trend-value\">+12</text>\n              </view>\n            </view>\n            \n            <view class=\"stat-divider\"></view>\n            \n            <view class=\"stat-item\">\n              <text class=\"stat-number\">{{ userInfo.info.policyViews || 0 }}</text>\n              <text class=\"stat-label\">政策查看</text>\n              <view class=\"stat-trend\">\n                <uni-icons type=\"up\" size=\"12\" color=\"#2ed573\"/>\n                <text class=\"trend-value\">+5</text>\n              </view>\n            </view>\n            \n            <view class=\"stat-divider\"></view>\n            \n            <view class=\"stat-item\">\n              <text class=\"stat-number\">{{ userInfo.info.field || 3 }}</text>\n              <text class=\"stat-label\">关注领域</text>\n              <view class=\"stat-trend\">\n                <uni-icons type=\"minus\" size=\"12\" color=\"#ffa726\"/>\n                <text class=\"trend-value\">0</text>\n              </view>\n            </view>\n          </view>\r\n\t\t  \r\n\t\t \r\n\t\t  \n        </view>\n\n        <!-- 活动区域 -->\n        <view class=\"activity-section\">\n          <view class=\"section-header\">\n            <text class=\"section-title\">我的活动</text>\n            <view class=\"section-more\" @click=\"viewAllActivities\">\n              <text class=\"more-text\">查看全部</text>\n              <uni-icons type=\"right\" size=\"14\" color=\"#999\"/>\n            </view>\n          </view>\n          \n          <ActivityTicket \n            :activityData=\"myActivityData\" \n            @check-activity=\"onCheck\"\n            @join-group=\"onJoin\"\n            @status-action=\"onStatus\"\n          />\n        </view>\n\n        <!-- 快捷功能 -->\n        <!-- <view class=\"quick-actions\">\n          <view class=\"section-header\">\n            <text class=\"section-title\">快捷功能</text>\n          </view>\n          <view class=\"actions-grid\">\n            <view class=\"action-item\" v-for=\"(action, index) in quickActions\" :key=\"index\" @click=\"handleQuickAction(action)\">\n              <view class=\"action-icon\" :style=\"{ background: action.bgColor }\">\n                <uni-icons :type=\"action.icon\" size=\"20\" :color=\"action.iconColor\"/>\n              </view>\n              <text class=\"action-text\">{{ action.text }}</text>\n            </view>\n          </view>\n        </view> -->\n      </view>\n    </view>\n\n    <!-- 加载提示 -->\n    <uni-popup ref=\"loadingPopup\" type=\"center\">\n      <view class=\"loading-container\">\n        <uni-load-more status=\"loading\" :content-text=\"loadingText\"/>\n      </view>\n    </uni-popup>\n  </view>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, reactive, watch } from 'vue'\nimport { useInfoStore } from '@/store/Info.js'\nimport ActivityTicket from '../../components/ActivityTicket/ActivityTicket.vue'\n\n// Store 和基础数据\nconst userInfo = useInfoStore()\nconst SYSTEMINFO = uni.getSystemInfoSync()\nconst statusBarHeight = ref(SYSTEMINFO.statusBarHeight)\n\n// 弹窗引用\nconst loadingPopup = ref(null)\n\n// 加载状态\nconst isLogging = ref(false)\nconst loadingText = ref({ more: '加载中...' })\n\n// 登录页面特性展示\nconst loginFeatures = ref([\n  {\n    icon: 'locked',\n    color: '#2ed573',\n    iconClass: 'security-icon',\n    title: '安全保障',\n    desc: '银行级数据加密保护'\n  },\n  {\n    icon: 'heart',\n    color: '#ff4757',\n    iconClass: 'personal-icon',\n    title: '个性推荐',\n    desc: '智能内容个性化推送'\n  },\n  {\n    icon: 'cloud',\n    color: '#3742fa',\n    iconClass: 'sync-icon',\n    title: '云端同步',\n    desc: '多设备无缝数据同步'\n  }\n])\n\n// 快捷功能\nconst quickActions = ref([\n  {\n    icon: 'gear',\n    text: '账户设置',\n    bgColor: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n    iconColor: '#fff',\n    action: 'settings'\n  },\n  {\n    icon: 'heart',\n    text: '我的收藏',\n    bgColor: 'linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)',\n    iconColor: '#fff',\n    action: 'favorites'\n  },\n  {\n    icon: 'chatbubble',\n    text: '消息中心',\n    bgColor: 'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)',\n    iconColor: '#fff',\n    action: 'messages'\n  },\n  {\n    icon: 'help',\n    text: '帮助中心',\n    bgColor: 'linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)',\n    iconColor: '#fff',\n    action: 'help'\n  }\n])\n\n// 活动数据\nconst myActivityData = ref({\n  title: 'AI前沿研讨会',\n  location: '北京中关村科技园',\n  date: '8月10日-8月12日',\n  checkText: '查看须知',\n  joinText: '加入群聊',\n  statusText: '点击签到'\n})\n\n// 用户授权状态\nconst authState = ref({\n  phoneAuthCode: '',\n  encryptedData: '',\n  iv: ''\n})\n\n// 页面挂载\nonMounted(() => {\n  initPage()\n})\n\n// 初始化页面\nconst initPage = async () => {\n  try {\n    await userInfo.checkLoginStatus()\n    if (userInfo.signal) {\n      await refreshUserData()\n    }\n  } catch (error) {\n    console.error('页面初始化失败:', error)\n  }\n}\n\n// 刷新用户数据\nconst refreshUserData = async () => {\n  try {\n    await userInfo.getUserInfo()\n  } catch (error) {\n    console.error('获取用户信息失败:', error)\n  }\n}\n\n// 格式化手机号显示\nconst formatPhoneNumber = (phone) => {\n  if (!phone) return ''\n  return phone.replace(/(\\d{3})\\d{4}(\\d{4})/, '$1****$2')\n}\n\n// 处理手机号授权\nconst handlePhoneAuth = async (e) => {\n  console.log('手机号授权回调:', e)\n  \n  if (e.detail.errMsg !== 'getPhoneNumber:ok') {\n    uni.showToast({\n      title: '授权失败，请重试',\n      icon: 'error'\n    })\n    return\n  }\n\n  try {\n    isLogging.value = true\n    \n    authState.value = {\n      phoneAuthCode: e.detail.code,\n      encryptedData: e.detail.encryptedData,\n      iv: e.detail.iv\n    }\n\n    await performLogin()\n    \n  } catch (error) {\n    console.error('登录失败:', error)\n    uni.showToast({\n      title: '登录失败，请重试',\n      icon: 'error'\n    })\n  } finally {\n    isLogging.value = false\n  }\n}\n\n// 执行登录逻辑\nconst performLogin = async () => {\n  try {\n    const loginRes = await uni.login({\n      provider: 'weixin'\n    })\n    \n    if (loginRes[1].errMsg !== 'login:ok') {\n      throw new Error('获取登录凭证失败')\n    }\n\n    const loginCode = loginRes[1].code\n    \n    const loginData = {\n      code: loginCode,\n      phoneCode: authState.value.phoneAuthCode,\n      encryptedData: authState.value.encryptedData,\n      iv: authState.value.iv\n    }\n\n    const loginResult = await callLoginAPI(loginData)\n    await userInfo.saveLoginInfo(loginResult)\n    await refreshUserData()\n    \n    uni.showToast({\n      title: '登录成功',\n      icon: 'success'\n    })\n\n  } catch (error) {\n    console.error('登录过程出错:', error)\n    throw error\n  }\n}\n\n// 调用登录API\nconst callLoginAPI = async (loginData) => {\n  return new Promise((resolve, reject) => {\n    uni.request({\n      url: 'https://your-api-domain.com/api/login',\n      method: 'POST',\n      data: loginData,\n      success: (res) => {\n        if (res.data.success) {\n          resolve(res.data.data)\n        } else {\n          reject(new Error(res.data.message || '登录失败'))\n        }\n      },\n      fail: (error) => {\n        reject(error)\n      }\n    })\n  })\n}\n\n// 跳转到个人资料页面\nconst goToProfile = () => {\n  uni.navigateTo({\n    url: '/pages/detail/profile'\n  })\n}\n\n// 快捷功能处理\nconst handleQuickAction = (action) => {\n  switch (action.action) {\n    case 'settings':\n      uni.navigateTo({\n        url: '/pages/settings/index'\n      })\n      break\n    case 'favorites':\n      uni.navigateTo({\n        url: '/pages/favorites/index'\n      })\n      break\n    case 'messages':\n      uni.navigateTo({\n        url: '/pages/messages/index'\n      })\n      break\n    case 'help':\n      uni.navigateTo({\n        url: '/pages/help/index'\n      })\n      break\n  }\n}\n\n// 显示用户协议\nconst showUserAgreement = () => {\n  uni.navigateTo({\n    url: '/pages/agreement/user'\n  })\n}\n\n// 显示隐私政策\nconst showPrivacyPolicy = () => {\n  uni.navigateTo({\n    url: '/pages/agreement/privacy'\n  })\n}\n\n// 显示加载提示\nconst showLoading = (text = '加载中...') => {\n  loadingText.value.more = text\n  loadingPopup.value?.open()\n}\n\n// 隐藏加载提示\nconst hideLoading = () => {\n  loadingPopup.value?.close()\n}\n\n// 活动相关事件处理\nconst onCheck = (data) => {\n  console.log('查看活动:', data)\n  uni.navigateTo({\n    url: '/pages/activity/detail?id=' + data.id\n  })\n}\n\nconst onJoin = (data) => {\n  console.log('加入群聊:', data)\n  uni.showToast({\n    title: '已加入群聊',\n    icon: 'success'\n  })\n}\n\nconst onStatus = async (data) => {\n  console.log('状态操作:', data)\n  \n  try {\n    showLoading('正在签到...')\n    await performCheckin(data)\n    uni.showToast({\n      title: '签到成功',\n      icon: 'success'\n    })\n  } catch (error) {\n    uni.showToast({\n      title: '签到失败',\n      icon: 'error'\n    })\n  } finally {\n    hideLoading()\n  }\n}\n\n// 执行签到\nconst performCheckin = async (data) => {\n  return new Promise((resolve) => {\n    setTimeout(resolve, 1500)\n  })\n}\n\nconst viewAllActivities = () => {\n  uni.navigateTo({\n    url: '/pages/detail/activityjoined'\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  min-height: 100vh;\n  background: linear-gradient(180deg, #ff4757 0%, #ff6b7a 100%);\n}\n.nav-bar {\n  height: 88rpx;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 32rpx;\n  position: relative;\n  z-index: 10;\n\n  .nav-back {\n    width: 64rpx;\n    height: 64rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: rgba(255, 255, 255, 0.2);\n    border-radius: 50%;\n    backdrop-filter: blur(10rpx);\n  }\n\n  .nav-title {\n    font-size: 36rpx;\n    font-weight: 700;\n    color: #fff;\n  }\n\n  .nav-right {\n    width: 64rpx;\n  }\n}\n\n.status-bar {\n  background: transparent;\n}\n\n// 优化后的登录界面样式\n.login-container {\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  position: relative;\n  overflow: hidden;\n}\n\n.login-background {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.animated-bg {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n\n  .floating-circle {\n    position: absolute;\n    border-radius: 50%;\n    background: rgba(255, 255, 255, 0.1);\n    animation: float 6s ease-in-out infinite;\n\n    &.circle-1 {\n      width: 80rpx;\n      height: 80rpx;\n      top: 20%;\n      left: 10%;\n      animation-delay: 0s;\n    }\n\n    &.circle-2 {\n      width: 120rpx;\n      height: 120rpx;\n      top: 60%;\n      right: 15%;\n      animation-delay: 1s;\n    }\n\n    &.circle-3 {\n      width: 60rpx;\n      height: 60rpx;\n      top: 30%;\n      right: 20%;\n      animation-delay: 2s;\n    }\n\n    &.circle-4 {\n      width: 100rpx;\n      height: 100rpx;\n      bottom: 30%;\n      left: 20%;\n      animation-delay: 3s;\n    }\n\n    &.circle-5 {\n      width: 40rpx;\n      height: 40rpx;\n      bottom: 20%;\n      right: 30%;\n      animation-delay: 4s;\n    }\n  }\n}\n\n@keyframes float {\n  0%, 100% { transform: translateY(0px) rotate(0deg); }\n  50% { transform: translateY(-20px) rotate(180deg); }\n}\n\n.login-card {\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 32rpx;\n  padding: 60rpx 40rpx;\n  margin: 0 40rpx;\n  backdrop-filter: blur(20rpx);\n  box-shadow: 0 32rpx 80rpx rgba(0, 0, 0, 0.15);\n  position: relative;\n  z-index: 1;\n  overflow: hidden;\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4rpx;\n    background: linear-gradient(90deg, #667eea, #764ba2, #667eea);\n    background-size: 200% 100%;\n    animation: shimmer 2s infinite;\n  }\n}\n\n@keyframes shimmer {\n  0% { background-position: -200% 0; }\n  100% { background-position: 200% 0; }\n}\n\n.logo-section {\n  text-align: center;\n  margin-bottom: 60rpx;\n\n  .logo-wrapper {\n    position: relative;\n    display: inline-block;\n    margin-bottom: 32rpx;\n\n    .logo-image {\n      width: 120rpx;\n      height: 120rpx;\n      border-radius: 24rpx;\n    }\n\n    .logo-shine {\n      position: absolute;\n      top: -4rpx;\n      left: -4rpx;\n      right: -4rpx;\n      bottom: -4rpx;\n      background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.5) 50%, transparent 70%);\n      border-radius: 28rpx;\n      animation: shine 3s infinite;\n      pointer-events: none;\n    }\n  }\n\n  .app-title {\n    display: block;\n    font-size: 48rpx;\n    font-weight: 700;\n    background: linear-gradient(135deg, #667eea, #764ba2);\n    background-clip: text;\n    -webkit-background-clip: text;\n    color: transparent;\n    margin-bottom: 12rpx;\n  }\n\n  .app-slogan {\n    display: block;\n    font-size: 28rpx;\n    color: #666;\n    font-weight: 400;\n  }\n}\n\n@keyframes shine {\n  0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }\n  100% { transform: translateX(100%) translateY(100%) rotate(45deg); }\n}\n\n.features-showcase {\n  margin-bottom: 60rpx;\n\n  .feature-card {\n    display: flex;\n    align-items: center;\n    padding: 24rpx 0;\n    border-bottom: 1rpx solid #f0f0f0;\n\n    &:last-child {\n      border-bottom: none;\n    }\n\n    .feature-icon {\n      width: 80rpx;\n      height: 80rpx;\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin-right: 24rpx;\n\n      &.security-icon {\n        background: linear-gradient(135deg, #2ed573, #7bed9f);\n      }\n\n      &.personal-icon {\n        background: linear-gradient(135deg, #ff4757, #ff6b7a);\n      }\n\n      &.sync-icon {\n        background: linear-gradient(135deg, #3742fa, #5352ed);\n      }\n    }\n\n    .feature-content {\n      flex: 1;\n\n      .feature-title {\n        display: block;\n        font-size: 30rpx;\n        font-weight: 600;\n        color: #333;\n        margin-bottom: 6rpx;\n      }\n\n      .feature-desc {\n        display: block;\n        font-size: 24rpx;\n        color: #666;\n        line-height: 1.4;\n      }\n    }\n  }\n}\n\n.login-section {\n  .modern-login-btn {\n    width: 100%;\n    height: 88rpx;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    border: none;\n    border-radius: 44rpx;\n    position: relative;\n    overflow: hidden;\n    margin-bottom: 32rpx;\n    box-shadow: 0 12rpx 32rpx rgba(102, 126, 234, 0.4);\n\n    &:active {\n      transform: translateY(2rpx);\n    }\n\n    &:disabled {\n      opacity: 0.7;\n    }\n\n    &::after {\n      border: none;\n    }\n\n    .btn-content {\n      position: relative;\n      z-index: 2;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 100%;\n\n      .btn-icon {\n        margin-right: 12rpx;\n      }\n\n      .btn-text {\n        font-size: 32rpx;\n        font-weight: 600;\n        color: #fff;\n      }\n    }\n\n    .btn-shine {\n      position: absolute;\n      top: 0;\n      left: -100%;\n      width: 100%;\n      height: 100%;\n      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n      transition: left 0.6s;\n    }\n\n    &:active .btn-shine {\n      left: 100%;\n    }\n  }\n\n  .privacy-notice {\n    text-align: center;\n\n    .notice-text, .notice-link {\n      font-size: 24rpx;\n      color: #999;\n    }\n    \n    .notice-link {\n      color: #667eea;\n      font-weight: 500;\n    }\n  }\n}\n\n// 优化后的已登录主界面\n.main-container {\n  min-height: 80vh;\n  background: linear-gradient(180deg, #ff4757 0%, #ff6b7a 100%);\n}\n\n.header {\n  position: relative;\n  padding: 32rpx;\n  overflow: hidden;\n\n  .header-content {\n    position: relative;\n    z-index: 2;\n  }\n\n  .user-card {\n    background: rgba(255, 255, 255, 0.15);\n    border-radius: 24rpx;\n    padding: 32rpx;\n    display: flex;\n    align-items: center;\n    backdrop-filter: blur(20rpx);\n    border: 1rpx solid rgba(255, 255, 255, 0.2);\n    transition: all 0.3s ease;\n\n    &:active {\n      transform: scale(0.98);\n      background: rgba(255, 255, 255, 0.2);\n    }\n\n    .avatar-section {\n      position: relative;\n      margin-right: 24rpx;\n\n      .user-avatar {\n        width: 120rpx;\n        height: 120rpx;\n        border-radius: 50%;\n        border: 4rpx solid rgba(255, 255, 255, 0.3);\n      }\n\n      .online-indicator {\n        position: absolute;\n        bottom: 4rpx;\n        right: 4rpx;\n        width: 24rpx;\n        height: 24rpx;\n        background: #fff;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n\n        .indicator-dot {\n          width: 12rpx;\n          height: 12rpx;\n          background: #2ed573;\n          border-radius: 50%;\n          animation: pulse 2s infinite;\n        }\n      }\n    }\n\n    .user-details {\n      flex: 1;\n      color: #fff;\n\n      .user-name {\n        display: block;\n        font-size: 36rpx;\n        font-weight: 700;\n        margin-bottom: 6rpx;\n      }\n\n      .user-phone {\n        display: block;\n        font-size: 24rpx;\n        opacity: 0.8;\n        margin-bottom: 6rpx;\n      }\n\n      .user-signature {\n        display: block;\n        font-size: 26rpx;\n        opacity: 0.9;\n        line-height: 1.3;\n      }\n    }\n\n    .profile-enter {\n      width: 40rpx;\n      height: 40rpx;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      background: rgba(255, 255, 255, 0.2);\n      border-radius: 50%;\n    }\n  }\n\n  .header-decoration {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n\n    .deco-circle {\n      position: absolute;\n      border-radius: 50%;\n      background: rgba(255, 255, 255, 0.08);\n\n      &.deco-1 {\n        width: 160rpx;\n        height: 160rpx;\n        top: -80rpx;\n        right: -40rpx;\n      }\n\n      &.deco-2 {\n        width: 100rpx;\n        height: 100rpx;\n        bottom: -50rpx;\n        right: 60rpx;\n      }\n    }\n  }\n}\n\n@keyframes pulse {\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0.5; }\n}\n\n.main-content {\n  // background: #f8f9fa;\n  // border-radius: 32rpx 32rpx 0 0;\n  // min-height: calc(100vh - 400rpx);\n  // padding: 32rpx;\n  // margin-top: -16rpx;\n  // position: relative;\n  // z-index: 1;\r\n  background: #f8f9fa;\r\n    border-radius: 32rpx 32rpx 0 0;\r\n    padding: 32rpx;\r\n    margin-top: -16rpx;\r\n    position: relative;\r\n    z-index: 1;\n}\n\n.stats-overview {\n  background: #fff;\n  border-radius: 24rpx;\n  padding: 32rpx;\n  margin-bottom: 32rpx;\n  box-shadow: 0 8rpx 32rpx rgba(255, 71, 87, 0.1);\n\n  .stats-header {\n    display: flex;\n    align-items: center;\n    margin-bottom: 32rpx;\n\n    .stats-icon-wrapper {\n      width: 64rpx;\n      height: 64rpx;\n      margin-right: 24rpx;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      .stats-icon {\n        width: 48rpx;\n        height: 48rpx;\n      }\n    }\n\n    .stats-info {\n      flex: 1;\n\n      .stats-title {\n        display: block;\n        font-size: 32rpx;\n        font-weight: 700;\n        color: #333;\n        margin-bottom: 4rpx;\n      }\n\n      .stats-subtitle {\n        display: block;\n        font-size: 26rpx;\n        color: #ff4757;\n        font-weight: 500;\n      }\n    }\n  }\n\n  .stats-grid {\n    display: flex;\n    align-items: center;\n\n    .stat-item {\n      flex: 1;\n      text-align: center;\n\n      .stat-number {\n        display: block;\n        font-size: 48rpx;\n        font-weight: 700;\n        color: #333;\n        margin-bottom: 8rpx;\n      }\n\n      .stat-label {\n        display: block;\n        font-size: 26rpx;\n        color: #666;\n        margin-bottom: 8rpx;\n      }\n\n      .stat-trend {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n\n        .trend-value {\n          font-size: 22rpx;\n          color: #2ed573;\n          margin-left: 4rpx;\n          font-weight: 600;\n        }\n      }\n    }\n\n    .stat-divider {\n      width: 2rpx;\n      height: 80rpx;\n      background: #f0f0f0;\n      margin: 0 24rpx;\n    }\n  }\n}\n\n.activity-section {\n  margin-bottom: 32rpx;\n\n  .section-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 24rpx;\n\n    .section-title {\n      font-size: 32rpx;\n      font-weight: 700;\n      color: #333;\n    }\n\n    .section-more {\n      display: flex;\n      align-items: center;\n      padding: 8rpx 16rpx;\n      border-radius: 20rpx;\n      transition: all 0.3s ease;\n\n      &:active {\n        background: rgba(255, 71, 87, 0.1);\n      }\n\n      .more-text {\n        font-size: 26rpx;\n        color: #999;\n        margin-right: 8rpx;\n      }\n    }\n  }\n}\n\n.quick-actions {\n  .section-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 24rpx;\n\n    .section-title {\n      font-size: 32rpx;\n      font-weight: 700;\n      color: #333;\n    }\n  }\n\n  .actions-grid {\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    gap: 24rpx;\n\n    .action-item {\n      background: #fff;\n      border-radius: 20rpx;\n      padding: 32rpx 16rpx;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);\n      transition: all 0.3s ease;\n\n      &:active {\n        transform: scale(0.95);\n        box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.12);\n      }\n\n      .action-icon {\n        width: 80rpx;\n        height: 80rpx;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        margin-bottom: 16rpx;\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      }\n\n      .action-text {\n        font-size: 26rpx;\n        color: #666;\n        font-weight: 500;\n        text-align: center;\n      }\n    }\n  }\n}\n\n// 加载提示样式\n.loading-container {\n  background: rgba(0, 0, 0, 0.8);\n  border-radius: 16rpx;\n  padding: 40rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  backdrop-filter: blur(10rpx);\n}\n\n// 响应式适配\n@media screen and (max-width: 320px) {\n  .login-card {\n    margin: 0 20rpx;\n    padding: 40rpx 24rpx;\n  }\n  \n  .header {\n    padding: 24rpx;\n  }\n  \n  .main-content {\n    padding: 24rpx;\n  }\n  \n  .actions-grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n// 暗色主题适配\n@media (prefers-color-scheme: dark) {\n  .main-content {\n    background: #1a1a1a;\n  }\n  \n  .stats-overview {\n    background: #2d2d2d;\n    \n    .stats-title {\n      color: #fff;\n    }\n    \n    .stat-number {\n      color: #fff;\n    }\n    \n    .stat-label {\n      color: #ccc;\n    }\n  }\n  \n  .section-title {\n    color: #fff;\n  }\n  \n  .action-item {\n    background: #2d2d2d;\n    \n    .action-text {\n      color: #ccc;\n    }\n  }\n}\r\n</style>","import MiniProgramPage from 'E:/project/uniapp/uniapp-news/pages/mymessage/mymessage.vue'\nwx.createPage(MiniProgramPage)"],"names":["useInfoStore","uni","ref","onMounted"],"mappings":"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"}