{"version":3,"file":"index.js","sources":["pages/index/index.vue","D:/Hbuild/HBuilderX.4.64.2025042916/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <CustomNavbar />\n    <!-- 页面内容 -->\n\t<showInforVue  title=\"为您推荐\" >\n\t\t<template v-slot:body>\n\t\t<view class=\"recommend-list\">\n\t\t  <view class=\"recommend-item\" @click=\"handleMorearticle\">\n\t\t    <view class=\"icon-wrapper policy-icon\">\n\t\t      <image src=\"/static/icon/policy_index.png\" class=\"icon-image\" mode=\"aspectFit\" />\n\t\t    </view>\n\t\t    <text class=\"label\">政府政策</text>\n\t\t  </view>\n\t\t\n\t\t  <view class=\"recommend-item\" @click=\"handleMorearticle\">\n\t\t    <view class=\"icon-wrapper news-icon\">\n\t\t      <image src=\"/static/icon/new_index.png\" class=\"icon-image\" mode=\"aspectFit\" />\n\t\t    </view>\n\t\t    <text class=\"label\">行业新闻</text>\n\t\t  </view>\n\t\t  \n\t\t  <view class=\"recommend-item\" @click=\"handleMoreactivity\">\n\t\t    <view class=\"icon-wrapper activity-icon\">\n\t\t      <image src=\"/static/icon/convention_index.png\" class=\"icon-image\" mode=\"aspectFit\" />\n\t\t    </view>\n\t\t    <text class=\"label\">大会报名</text>\n\t\t  </view>\n\t\t</view>\n\t\t</template>\n\t</showInforVue>\n\t\n\t<!-- 优化后的公告信息 -->\n\t<view class=\"notice-section\">\n\t  <view class=\"notice-card\">\n\t    <view class=\"notice-header\">\n\t      <view class=\"notice-icon\">\n\t        <text class=\"icon-text\">📢</text>\n\t      </view>\n\t      <text class=\"notice-title\">系统公告</text>\n\t      <view class=\"notice-badge\">重要</view>\n\t    </view>\n\t    <view class=\"notice-content\">\n\t      <swiper class=\"notice-swiper\" autoplay=\"true\" vertical=\"true\" interval=\"4000\" circular=\"true\">\n\t        <swiper-item v-for=\"item in usenotice.notice\" :key=\"item.id\">\n\t          <text class=\"notice-text\" @click=\"noticeclick(item.id)\">{{item.title}}</text>\n\t        </swiper-item>\n\t      </swiper>\n\t    </view>\n\t  </view>\n\t</view>\n\t   \n\t<!-- 可滑动的热搜卡片 -->\n\t<view class=\"hot-search-section\">\n\t  <view class=\"hot-search-card\">\n\t    <view class=\"hot-search-header\">\n\t      <view class=\"tab-navigation\">\n\t        <view class=\"tab-item\" :class=\"{ active: currentTab === 0 }\" @click=\"switchTab(0)\">\n\t          <text class=\"tab-text\">热门活动</text>\n\t        </view>\n\t        <view class=\"tab-item\" :class=\"{ active: currentTab === 1 }\" @click=\"switchTab(1)\">\n\t          <text class=\"tab-text\">精选政策</text>\n\t        </view>\n\t        <view class=\"tab-item\" :class=\"{ active: currentTab === 2 }\" @click=\"switchTab(2)\">\n\t          <text class=\"tab-text\">精选新闻</text>\n\t        </view>\n\t      </view>\n\t      <view class=\"more-btn\" @click=\"handleMoreClick\">\n\t        <text class=\"more-text\">更多</text>\n\t        <text class=\"more-arrow\">></text>\n\t      </view>\n\t    </view>\n\t    \n\t    <swiper class=\"content-swiper\" :current=\"currentTab\" @change=\"onSwiperChange\">\n\t      <!-- 热门活动 -->\n\t      <swiper-item>\n\t        <view class=\"hot-list\">\n\t          <view class=\"hot-item\" v-for=\"(item, index) in selected.news\" :key=\"item.article_id\" @click=\"onclickactivity(item.article_id)\">\n\t            <view class=\"hot-rank\" :class=\"{ 'top-three': index < 3 }\">{{ index + 1 }}</view>\n\t            <text class=\"hot-title\">{{ item.article_title }}</text>\n\t            <view class=\"hot-badge activity-badge\">活动</view>\n\t          </view>\n\t        </view>\n\t      </swiper-item>\n\t      \n\t      <!-- 精选政策 -->\n\t      <swiper-item>\n\t        <view class=\"hot-list\">\n\t          <view class=\"hot-item\" v-for=\"(item, index) in selected.policys\" :key=\"item.article_id\" @click=\"onclickactivity(item.article_id)\">\n\t            <view class=\"hot-rank\" :class=\"{ 'top-three': index < 3 }\">{{ index + 1 }}</view>\n\t            <text class=\"hot-title\">{{ item.article_title }}</text>\n\t            <view class=\"hot-badge policy-badge\">政策</view>\n\t          </view>\n\t        </view>\n\t      </swiper-item>\n\t      \n\t      <!-- 精选新闻 -->\n\t      <swiper-item>\n\t        <view class=\"hot-list\">\n\t          <view class=\"hot-item\" v-for=\"(item, index) in selected.news\" :key=\"item.article_id\" @click=\"onclickactivity(item.article_id)\">\n\t            <view class=\"hot-rank\" :class=\"{ 'top-three': index < 3 }\">{{ index + 1 }}</view>\n\t            <text class=\"hot-title\">{{ item.article_title }}</text>\n\t            <view class=\"hot-badge news-badge\">新闻</view>\n\t          </view>\n\t        </view>\n\t      </swiper-item>\n\t    </swiper>\n\t  </view>\n\t</view>\n  \n  </view>\n \n</template>\n\n\n<script setup>\nimport {ref,onMounted} from 'vue'\nimport CustomNavbar from '@/components/CustomNavbar/CustomNavbar.vue'\nimport showInforVue from '../../components/show-infor/show-infor.vue';\nimport {useNoticeStore} from '@/store/Notice.js'\nimport {useSelectedstore} from '@/store/Home.js'\n\n// 获得公告对象\nconst usenotice=useNoticeStore()\n// 获得精选对象\nconst selected=useSelectedstore()\n\n// 当前选中的标签页\nconst currentTab = ref(0)\n\n\n// 获取更多新闻和政策\nfunction handleMorearticle(){\n\tuni.setStorageSync('tabSource', 'switchTab');\n\tuni.switchTab({\n\t\turl: '../policy/policy'\n\t});\n\n}\n// 获取更多活动\nfunction handleMoreactivity(){\n\tuni.switchTab({\n\t\turl: '../news/news'\n\t});\n\t\n\t\n}\n\n\n// 获取精选的政策和新闻信息\nfunction onclickactivity(id){\n\tconsole.log(id)\n\tuni.navigateTo({\n\t  url: `/pages/detail/articledetail?id=${id}`\n\t})\n}\n\n// 切换标签页\nfunction switchTab(index) {\n  currentTab.value = index\n}\n\n// swiper变化事件\nfunction onSwiperChange(e) {\n  currentTab.value = e.detail.current\n}\n\n// 更多按钮点击事件\nfunction handleMoreClick() {\n  if (currentTab.value === 0) {\n    handleMoreactivity() // 活动\n  } else {\n    handleMorearticle() // 政策和新闻\n  }\n}\r\nfunction noticeclick(id){\r\n\tuni.navigateTo({\r\n\t\t url: `/pages/detail/noticedetail?id=${id}`\r\n\t})\r\n}\n\n\n// 初始化\nonMounted(()=>{\n\tusenotice.getnoticestore()\n\tselected.getselected()\n})\n    \n\n</script>\n\n<style lang='scss'>\n.container {\n  padding: 0;\n  margin: 0;\n  \n  min-height: 100vh;\n background-color:#f5f5f5 ;\n}\n/* 为您推荐 */\n.recommend-list {\n  display: flex;\n  \n\tjustify-content: flex-start;\n  margin-top: 10rpx;\n  gap: 60rpx;\n  \n}\n.recommend-item {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n}\n\n\n.icon-wrapper {\n  width: 120rpx;\n  height: 120rpx;\n  border-radius: 60rpx;\n  margin-bottom: 10rpx;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.policy-icon {\n  background: linear-gradient(135deg, #ff6f8f, #ff9472);\n}\n\n.news-icon {\n  background: linear-gradient(135deg, #1fa2ff, #12d8fa);\n}\n.activity-icon{\n\tbackground: linear-gradient(135deg, #90EE90, #228B22);\n\t\n}\n\n.icon-image {\n  width: 64rpx;\n  height: 64rpx;\n}\n\n.label {\n  font-size: 28rpx;\n  color: #333;\n}\n/* 精选政策新闻 */\n.news-item {\n  display: flex;\n  align-items: center;\n  margin-bottom: 40rpx; /* 增加底部间距，使新闻条目之间有更多空间 */\n}\n\n.news-item:last-child {\n  margin-bottom: 0; /* 最后一个新闻条目不设置底部间距 */\n}\n\n.news-image {\n  width: 240rpx; /* 增大图片宽度 */\n  height: 180rpx; /* 增大图片高度 */\n  border-radius: 10rpx;\n  margin-right: 40rpx; /* 增大图片与文字内容的间距 */\n  flex-shrink: 0; /* 防止图片被压缩 */\n  background-color: #f0f0f0; /* 图片加载前的占位背景色 */\n}\n\n.news-content {\n  flex: 1; /* 占据剩余空间 */\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.news-title {\n  font-size: 36rpx; /* 增大标题字体大小 */\n  font-weight: bold;\n  color: #333;\n  margin-bottom: 15rpx; /* 增大标题与简介的间距 */\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2; /* 限制标题显示两行 */\n  -webkit-box-orient: vertical;\n}\n\n.news-summary {\n  font-size: 30rpx; /* 增大简介字体大小 */\n  color: #666;\n  margin-bottom: 15rpx; /* 增大简介与标签的间距 */\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2; /* 限制简介显示两行 */\n  -webkit-box-orient: vertical;\n}\n\n.hot-tag {\n  background-color: #e60012; /* 红色背景 */\n  color: #fff; /* 白色字体 */\n  font-size: 26rpx; /* 增大标签字体大小 */\n  padding: 6rpx 16rpx; /* 增大内边距 */\n  border-radius: 10rpx; /* 增大圆角 */\n  align-self: flex-start; /* 标签靠左对齐 */\n  line-height: 1; /* 确保文字垂直居中 */\n}\n\n/* 优化后的公告布局 */\n.notice-section {\n  padding: 0rpx 30rpx;\n  margin-bottom: 10rpx;\n  background-color: #f5f5f5;\n}\n\n.notice-card {\n  background: white;\n  border-radius: 20rpx;\n  padding: 24rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);\n  border-left: 6rpx solid #667eea;\n  position: relative;\n  overflow: hidden;\n}\n\n.notice-card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 80rpx;\n  height: 80rpx;\n  background: linear-gradient(135deg, #667eea, #764ba2);\n  border-radius: 50%;\n  transform: translate(50%, -50%);\n  opacity: 0.1;\n}\n\n.notice-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 16rpx;\n}\n\n.notice-icon {\n  width: 48rpx;\n  height: 48rpx;\n  border-radius: 50%;\n  background: rgba(102, 126, 234, 0.1);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 16rpx;\n}\n\n.icon-text {\n  font-size: 24rpx;\n}\n\n.notice-title {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #2d3748;\n  flex: 1;\n}\n\n.notice-badge {\n  background: linear-gradient(135deg, #ff6b6b, #ee5a52);\n  color: white;\n  font-size: 20rpx;\n  font-weight: bold;\n  padding: 6rpx 12rpx;\n  border-radius: 12rpx;\n  box-shadow: 0 2rpx 8rpx rgba(255, 107, 107, 0.3);\n}\n\n.notice-content {\n  height: 60rpx;\n  position: relative;\n}\n\n.notice-swiper {\n  height: 100%;\n}\n\n.notice-text {\n  font-size: 28rpx;\n  color: #4a5568;\n  line-height: 60rpx;\n  padding-right: 20rpx;\n}\n\n.more-text {\n  font-size: 26rpx;\n  color: #999;\n}\n\n/* 热搜卡片样式 */\n.hot-search-section {\n  padding: 0rpx 30rpx;\n  margin-bottom: 20rpx;\n}\n\n.hot-search-card {\n  background: white;\n  border-radius: 20rpx;\n  overflow: hidden;\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);\n}\n\n.hot-search-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20rpx 24rpx 0;\n  border-bottom: 2rpx solid #f5f5f5;\n}\n\n.tab-navigation {\n  display: flex;\n  gap: 32rpx;\n}\n\n.tab-item {\n  position: relative;\n  padding-bottom: 16rpx;\n}\n\n.tab-item.active .tab-text {\n  color: #667eea;\n  font-weight: bold;\n}\n\n.tab-item.active::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 4rpx;\n  background: linear-gradient(90deg, #667eea, #764ba2);\n  border-radius: 2rpx;\n}\n\n.tab-text {\n  font-size: 30rpx;\n  color: #666;\n  transition: all 0.3s ease;\n}\n\n.more-btn {\n  display: flex;\n  align-items: center;\n  padding: 8rpx 16rpx;\n  background: rgba(102, 126, 234, 0.1);\n  border-radius: 16rpx;\n}\n\n.more-btn .more-text {\n  font-size: 24rpx;\n  color: #667eea;\n  margin-right: 4rpx;\n}\n\n.more-arrow {\n  font-size: 20rpx;\n  color: #667eea;\n}\n\n.content-swiper {\n  height: 680rpx;\n}\n\n.hot-list {\n  padding: 24rpx;\n  height: 100%;\n  overflow-y: auto;\n}\n\n.hot-item {\n  display: flex;\n  align-items: center;\n  padding: 16rpx 0;\n  border-bottom: 1rpx solid #f5f5f5;\n  position: relative;\n  transition: background-color 0.2s ease;\n}\n\n.hot-item:hover {\n  background-color: #f8f9ff;\n}\n\n.hot-item:last-child {\n  border-bottom: none;\n}\n\n.hot-rank {\n  width: 48rpx;\n  height: 48rpx;\n  border-radius: 8rpx;\n  background: #e2e8f0;\n  color: #718096;\n  font-size: 26rpx;\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 20rpx;\n  flex-shrink: 0;\n}\n\n.hot-rank.top-three {\n  background: linear-gradient(135deg, #ff6b6b, #ee5a52);\n  color: white;\n  box-shadow: 0 2rpx 8rpx rgba(255, 107, 107, 0.3);\n}\n\n.hot-title {\n  flex: 1;\n  font-size: 28rpx;\n  color: #2d3748;\n  line-height: 1.4;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  margin-right: 16rpx;\n}\n\n.hot-badge {\n  font-size: 20rpx;\n  padding: 4rpx 12rpx;\n  border-radius: 12rpx;\n  color: white;\n  font-weight: bold;\n  flex-shrink: 0;\n}\n\n.activity-badge {\n  background: linear-gradient(135deg, #48bb78, #38a169);\n}\n\n.policy-badge {\n  background: linear-gradient(135deg, #667eea, #764ba2);\n}\n\n.news-badge {\n  background: linear-gradient(135deg, #4299e1, #3182ce);\n}\n</style>","import MiniProgramPage from 'E:/project/uniapp/uniapp-news/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["useNoticeStore","useSelectedstore","ref","uni","onMounted","MiniProgramPage"],"mappings":";;;;;;;;AAoHA,MAAM,eAAe,MAAW;AAChC,MAAM,eAAe,MAAW;;;;AAKhC,UAAM,YAAUA,aAAAA,eAAgB;AAEhC,UAAM,WAASC,WAAAA,iBAAkB;AAGjC,UAAM,aAAaC,cAAG,IAAC,CAAC;AAIxB,aAAS,oBAAmB;AAC3BC,oBAAAA,MAAI,eAAe,aAAa,WAAW;AAC3CA,oBAAAA,MAAI,UAAU;AAAA,QACb,KAAK;AAAA,MACP,CAAE;AAAA,IAEF;AAEA,aAAS,qBAAoB;AAC5BA,oBAAAA,MAAI,UAAU;AAAA,QACb,KAAK;AAAA,MACP,CAAE;AAAA,IAGF;AAIA,aAAS,gBAAgB,IAAG;AAC3BA,oBAAAA,MAAA,MAAA,OAAA,gCAAY,EAAE;AACdA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,kCAAkC,EAAE;AAAA,MAC5C,CAAE;AAAA,IACF;AAGA,aAAS,UAAU,OAAO;AACxB,iBAAW,QAAQ;AAAA,IACrB;AAGA,aAAS,eAAe,GAAG;AACzB,iBAAW,QAAQ,EAAE,OAAO;AAAA,IAC9B;AAGA,aAAS,kBAAkB;AACzB,UAAI,WAAW,UAAU,GAAG;AAC1B,2BAAoB;AAAA,MACxB,OAAS;AACL,0BAAmB;AAAA,MACpB;AAAA,IACH;AACA,aAAS,YAAY,IAAG;AACvBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,iCAAiC,EAAE;AAAA,MAC3C,CAAE;AAAA,IACF;AAIAC,kBAAAA,UAAU,MAAI;AACb,gBAAU,eAAgB;AAC1B,eAAS,YAAa;AAAA,IACvB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxLD,GAAG,WAAWC,SAAe;"}