{"version":3,"file":"news.js","sources":["pages/news/news.vue","D:/Hbuild/HBuilderX.4.64.2025042916/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbmV3cy9uZXdzLnZ1ZQ"],"sourcesContent":["<template> \n  <view class=\"page\">\n    <!-- 顶部固定导航栏 -->\n    <uni-nav-bar statusBar=\"true\" backgroundColor=\"#dc2626\" fixed=\"true\" leftWidth=\"150px\">\n      <template v-slot:left>\n        <view class=\"navbar-title\">热门活动</view>\n      </template>\n    </uni-nav-bar>\r\n\t\r\n    <view class=\"section-header\">\n      <uni-section title=\"热门活动报名中\" titleFontSize=\"20px\" type=\"line\" />\n       <text class=\"more-link\" @click=\"goMorehotactivity\">更多活动</text>\n    </view>\r\n\t\r\n\t<!-- 热门活动 -->\r\n\t\t\t<uni-grid :column=\"2\" :highlight=\"false\" :show-border=\"false\" @change=\"change\" :square=\"false\">\n\t\t\t\t<uni-grid-item v-for=\"item in EventStore.eventing\" :index=\"item.id\" :key=\"item.id\">\n<!-- \t\t\t\t\t<view class=\"grid-item-box\" style=\"background-color: #fff;\" > -->\n\t\t\t\t\t\t  <ActivityCard\r\n\t\t\t\t\t\t    :imgSrc=\"item.cover_image_url\"\r\n\t\t\t\t\t\t    :title=\"item.title\"\r\n\t\t\t\t\t\t    :date=\"formatEventDate(item.event_start_time,item.event_end_time)\"\r\n\t\t\t\t\t\t    :location=\"item.event_address\"\r\n\t\t\t\t\t\t\t:isJoined=\"false\"\r\n\t\t\t\t\t\t\t:fee=\"item.registration_fee\"\r\n\t\t\t\t\t\t  />\n<!-- \t\t\t\t\t</view> -->\n\t\t\t\t</uni-grid-item>\n\t\t\t</uni-grid>\r\n\t<!-- 历史活动 -->\r\n\t<view class=\"section-header\">\r\n\t  <uni-section title=\"历史活动回顾\" titleFontSize=\"20px\" type=\"line\" />\r\n\t   <text class=\"more-link\" @click=\"goMorehistoryactivity\">查看更多</text>\r\n\t</view >\n\t  <HorizontalActivityCard  v-for=\"item in EventStore.eventoutdate\" \r\n\t    :imgSrc=\"item.cover_image_url\"\r\n\t    :title=\"item.title\"\r\n\t    :date=\"formatEventDate(item.event_start_time,item.event_end_time)\"\r\n\t    :location=\"item.event_address\"\r\n\t    status=\"已结束\"\r\n\t\t@click=\"handleCardClick(item.id)\"\r\n\t  />\n\n  </view>\n</template>\n\n<script setup>\r\nimport {ref,onMounted} from 'vue'\r\nimport { onLoad,onShow } from '@dcloudio/uni-app'\r\nimport {useEventstore} from '@/store/Event.js'\r\nimport ActivityCard from '@/components/ActivityCard/ActivityCard.vue'\r\nimport {formatEventDate} from '@/utils/data.js'\r\nimport HorizontalActivityCard from '@/components/HorizontalActivityCard/HorizontalActivityCard.vue'\r\n\r\n// 初始化pinia\r\nconst EventStore=useEventstore()\r\n\r\n\r\n// 热门活动点击\nfunction change(e){\r\n\t// console.log(e)\r\n\tconst clickedIndex = e.detail.index\r\n\tconsole.log('点击了第', clickedIndex, '个宫格')\r\n\tconst disable = false\r\n\tuni.navigateTo({\r\n\t  url: `/pages/detail/activitydetail?id=${clickedIndex}&disable=${disable}`\r\n\t})\r\n}\r\n// 历史活动点击\r\nfunction handleCardClick(eventData) {\r\n  console.log(\"点击了卡片:\", eventData);\r\n  const disable = true\r\n\tuni.navigateTo({\r\n\turl: `/pages/detail/activitydetail?id=${eventData}&disable=${disable}` // 举例，传递 title 作为参数\r\n  });\r\n}\r\n\r\n// 更多热门活动\r\nfunction goMorehotactivity(){\r\n\tconsole.log(\"11111111\")\r\n\tuni.navigateTo({\r\n\t  url: `/pages/detail/activitymore`\r\n\t})\r\n}\r\n// 更多历史活动\r\nfunction goMorehistoryactivity(){\r\n\tuni.navigateTo({\r\n\t  url: `/pages/detail/activityhistorymore`\r\n\t})\r\n}\r\n// 初始化\nonShow(()=>{\n\tEventStore.getlisting(2)\r\n\tEventStore.getlisoutdate(3)\n})\n</script>\n<style>\n.page {\n  height: 100vh;\n  overflow: hidden;\n  position: relative;\n}\r\n.navbar-title {\n  font-size: 20px;\n  font-weight: bold;\n  color: white;\n}\r\n.section-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10rpx 20rpx;\n}\n\n.more-link {\n  color: #ccc;\n  font-size: 30rpx;\n  margin-left: 20rpx;\n}\n</style>\n","import MiniProgramPage from 'E:/project/uniapp/uniapp-news/pages/news/news.vue'\nwx.createPage(MiniProgramPage)"],"names":["useEventstore","uni","onShow","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;;;;;AAkDA,MAAM,eAAe,MAAW;AAEhC,MAAM,yBAAyB,MAAW;;;;AAG1C,UAAM,aAAWA,YAAAA,cAAe;AAIhC,aAAS,OAAO,GAAE;AAEjB,YAAM,eAAe,EAAE,OAAO;AAC9BC,oBAAY,MAAA,MAAA,OAAA,6BAAA,QAAQ,cAAc,KAAK;AACvC,YAAM,UAAU;AAChBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,mCAAmC,YAAY,YAAY,OAAO;AAAA,MAC1E,CAAE;AAAA,IACF;AAEA,aAAS,gBAAgB,WAAW;AAClCA,oEAAY,UAAU,SAAS;AAC/B,YAAM,UAAU;AACjBA,oBAAAA,MAAI,WAAW;AAAA,QACf,KAAK,mCAAmC,SAAS,YAAY,OAAO;AAAA;AAAA,MACrE,CAAG;AAAA,IACH;AAGA,aAAS,oBAAmB;AAC3BA,oBAAAA,MAAY,MAAA,OAAA,6BAAA,UAAU;AACtBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACR,CAAE;AAAA,IACF;AAEA,aAAS,wBAAuB;AAC/BA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACR,CAAE;AAAA,IACF;AAEAC,kBAAAA,OAAO,MAAI;AACV,iBAAW,WAAW,CAAC;AACvB,iBAAW,cAAc,CAAC;AAAA,IAC3B,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7FD,GAAG,WAAWC,SAAe;"}