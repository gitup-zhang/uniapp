{"version":3,"file":"applydetail.js","sources":["pages/detail/applydetail.vue","D:/Hbuild/HBuilderX.4.64.2025042916/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZGV0YWlsL2FwcGx5ZGV0YWlsLnZ1ZQ"],"sourcesContent":["<template>\n\t<uni-nav-bar\n\t  statusBar=\"true\"\n\t  backgroundColor=\"#ff4757\"\n\t  fixed=\"true\"\n\t  :border=\"false\"\n\t  leftIcon=\"left\"\n\t  @clickLeft=\"onBack\"\n\t>\n\t  <!-- 居中标题插槽 -->\n\t  <template v-slot:default>\n\t    <view class=\"navbar-center\">\n\t      <text class=\"navbar-title\">活动报名</text>\n\t    </view>\n\t  </template>\n\t</uni-nav-bar>\n  <view class=\"container\">\n    <!-- 顶部banner -->\n    <view class=\"banner-section\">\n      <image class=\"banner-image\" :src=\"EventStore.eventdetail.cover_image_url\" mode=\"aspectFill\"></image>\n      <view class=\"banner-overlay\">\n        <view class=\"event-title\">{{EventStore.eventdetail.title}}</view>\n        <view class=\"event-date\">{{ formatEventDate(EventStore.eventdetail.event_start_time,EventStore.eventdetail.event_end_time)}}</view>\n        <view class=\"event-location\">{{ EventStore.eventdetail.event_address }}</view>\n        <view class=\"event-fee\">{{EventStore.eventdetail.registration_fee}}</view>\n      </view>\n    </view>\n\n    <!-- 表单区域 -->\n    <view class=\"form-section\">\n      <view class=\"form-header\">\n        <view class=\"form-title\">完善基本资料</view>\n        <button class=\"edit-btn\" @click=\"handleEdit\" :class=\"{ 'save-mode': isEditing }\">\n          <text class=\"btn-icon\">{{ isEditing ? '✓' : '✎' }}</text>\n          <text class=\"btn-text\">{{ isEditing ? '保存' : '编辑' }}</text>\n        </button>\n      </view>\n      \n      <view class=\"form-content\">\n        <!-- 基本信息组 -->\n        <view class=\"form-group\">\n          <view class=\"group-title\">基本信息</view>\n          \n          <!-- 姓名 -->\n          <view class=\"form-item\">\n            <view class=\"label\">\n              <text>姓名</text>\n              <text class=\"required\">*</text>\n            </view>\n            <input \n              class=\"input\" \n              v-model=\"formData.name\" \n              placeholder=\"请输入姓名\"\n              placeholder-class=\"placeholder\"\n              :disabled=\"!isEditing\"\n              :class=\"{ 'disabled': !isEditing, 'editing': isEditing }\"\n            />\n          </view>\n\n          <!-- 手机号码 -->\n          <view class=\"form-item\">\n            <view class=\"label\">\n              <text>手机号码</text>\n              <text class=\"required\">*</text>\n            </view>\n            <view class=\"phone-input-wrapper\">\n              <input \n                class=\"input phone-input\" \n                v-model=\"formData.phone\" \n                placeholder=\"请输入手机号码\"\n                placeholder-class=\"placeholder\"\n                type=\"number\"\n                :disabled=\"!isEditing\"\n                :class=\"{ 'disabled': !isEditing, 'editing': isEditing }\"\n                @input=\"onPhoneInput\"\n              />\n              <button \n                class=\"verify-btn\" \n                @click=\"sendVerifyCode\" \n                :disabled=\"isCountingDown || !canSendCode\"\n                v-if=\"needPhoneVerification && isEditing\"\n              >\n                {{ countDownText }}\n              </button>\n            </view>\n          </view>\n\n          <!-- 验证码 - 只在编辑模式下修改手机号时显示 -->\n          <view class=\"form-item\" v-if=\"needPhoneVerification && isEditing\">\n            <view class=\"label\">\n              <text>验证码</text>\n              <text class=\"required\">*</text>\n            </view>\n            <input \n              class=\"input verify-code-input\" \n              v-model=\"formData.verifyCode\" \n              placeholder=\"请输入验证码\"\n              placeholder-class=\"placeholder\"\n              type=\"number\"\n            />\n          </view>\n\n          <!-- 邮箱 -->\n          <view class=\"form-item\">\n            <view class=\"label\">\n              <text>邮箱</text>\n              <text class=\"required\">*</text>\n            </view>\n            <input \n              class=\"input\" \n              v-model=\"formData.email\" \n              placeholder=\"请输入邮箱地址\"\n              placeholder-class=\"placeholder\"\n              type=\"email\"\n              :disabled=\"!isEditing\"\n              :class=\"{ 'disabled': !isEditing, 'editing': isEditing }\"\n            />\n          </view>\n\n         \n        </view>\n\n        <!-- 工作信息组 -->\n        <view class=\"form-group\">\n          <view class=\"group-title\">工作信息</view>\n          \n          <!-- 单位 -->\n          <view class=\"form-item\">\n            <view class=\"label\">\n              <text>单位</text>\n              <text class=\"required\">*</text>\n            </view>\n            <input \n              class=\"input\" \n              v-model=\"formData.unit\" \n              placeholder=\"请输入单位名称\"\n              placeholder-class=\"placeholder\"\n              :disabled=\"!isEditing\"\n              :class=\"{ 'disabled': !isEditing, 'editing': isEditing }\"\n            />\n          </view>\n\n          <!-- 部门 -->\n          <view class=\"form-item\">\n            <view class=\"label\">部门</view>\n            <input \n              class=\"input\" \n              v-model=\"formData.sectoral\" \n              placeholder=\"请输入部门名称\"\n              placeholder-class=\"placeholder\"\n              :disabled=\"!isEditing\"\n              :class=\"{ 'disabled': !isEditing, 'editing': isEditing }\"\n            />\n          </view>\n\n          <!-- 行业 -->\n          <view class=\"form-item\">\n            <view class=\"label\">行业</view>\n            <picker \n              mode=\"selector\" \n              :range=\"fieldstore.industory\" \n              :value=\"formData.industryIndex\"\n              @change=\"onIndustryChange\"\n              :disabled=\"!isEditing\"\n            >\n              <view class=\"picker-input\" :class=\"{ 'disabled': !isEditing, 'editing': isEditing }\">\n                <text class=\"picker-text\" :class=\"{ 'placeholder': formData.industryIndex === -1 }\">\n                  {{ formData.industryIndex === -1 ? '请选择行业' : fieldstore.industory[formData.industryIndex] }}\n                </text>\n                <text class=\"picker-arrow\" v-if=\"isEditing\">❯</text>\n              </view>\n            </picker>\n          </view>\n\n          <!-- 职业 - 修改为输入框 -->\n          <view class=\"form-item\">\n            <view class=\"label\">\n              <text>职业</text>\n              <text class=\"required\">*</text>\n            </view>\n            <input \n              class=\"input\" \n              v-model=\"formData.career\" \n              placeholder=\"请输入职业\"\n              placeholder-class=\"placeholder\"\n              :disabled=\"!isEditing\"\n              :class=\"{ 'disabled': !isEditing, 'editing': isEditing }\"\n            />\n          </view>\n        </view>\n      </view>\n\n      <!-- 提交按钮 -->\n      <view class=\"submit-section\">\n        <button \n          class=\"submit-btn\" \n          @click=\"handleSubmit\"\n          :disabled=\"isEditing\"\n          :class=\"{ 'disabled': isEditing }\"\n        >\n          马上报名\n        </button>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { onLoad } from '@dcloudio/uni-app'\nimport {ref,onMounted,reactive,computed} from 'vue'\nimport {useEventstore} from '@/store/Event.js'\nimport {useInfoStore} from '@/store/Info.js' \nimport {formatEventDate,Dataformat} from '@/utils/data.js'\nimport { onShow } from '@dcloudio/uni-app'\nimport {activityapply} from '@/new-apis/events.js'\nimport {usefieldstore} from '@/store/field.js'\n\nconst fieldstore=usefieldstore()\nconst EventStore=useEventstore()\nconst UserStore=useInfoStore()\n\n// 跳转到的活动id\nlet id=ref()\n\n// 编辑状态\nconst isEditing = ref(false)\n// 是否已提交过报名\nconst isSubmitted = ref(false)\n// 原始手机号（用于判断是否修改了手机号）\nconst originalPhone = ref('')\n// 是否需要手机号验证\nconst needPhoneVerification = ref(false)\n\n// 表单数据\nconst formData = reactive({\n  name: '',\n  phone: '',\n  verifyCode: '',\n  email: '',\n  unit: '',\n  sectoral: '',\n  industryIndex: -1, // 行业选择索引\n  career: '', // 职业改为字符串输入\n})\n\n// 验证码倒计时相关\nconst countDown = ref(0)\nconst isCountingDown = computed(() => countDown.value > 0)\nconst countDownText = computed(() => {\n  return isCountingDown.value ? `${countDown.value}s` : '发送验证码'\n})\n\n// 是否可以发送验证码\nconst canSendCode = computed(() => {\n  return formData.phone && /^1[3-9]\\d{9}$/.test(formData.phone)\n})\n\n// 最大日期（今天）\nconst maxDate = computed(() => {\n  const today = new Date()\n  return today.toISOString().split('T')[0]\n})\n\n// 监听手机号输入变化\nconst onPhoneInput = () => {\n  // 如果是编辑模式且手机号发生变化，需要验证码\n  if (isEditing.value && formData.phone !== originalPhone.value && formData.phone) {\n    needPhoneVerification.value = true\n    formData.verifyCode = '' // 清空验证码\n  } else if (formData.phone === originalPhone.value) {\n    needPhoneVerification.value = false\n    formData.verifyCode = ''\n  }\n}\n\n// 初始化表单数据（从pinia中获取已有的用户信息）\nconst initFormData = () => {\n  const userInfo = UserStore.info || {}\n  \n  // 从用户信息中填充表单\n  formData.name = userInfo.name || ''\n  formData.phone = userInfo.phone_number || ''\n  formData.email = userInfo.email || ''\n  formData.unit = userInfo.unit || ''\n  formData.sectoral = userInfo.department || ''\n  formData.career = userInfo.position || '' // 职业直接赋值字符串\n  \n  // 记录原始手机号\n  originalPhone.value = formData.phone\n  \n  // 只处理行业索引\n  if (userInfo.industry) {\r\n\t  console.log(\"获取到的行业信息：\",userInfo.industry)\n    const industryIndex = fieldstore.industory.findIndex(option => option === userInfo.industry)\r\n\tconsole.log(\"industryIndex\")\n    formData.industryIndex = industryIndex !== -1 ? industryIndex : -1\n  }\n  \n  // 判断是否已经有完整信息（已提交过）\n  isSubmitted.value = !!(userInfo.name && userInfo.phone_number && userInfo.email)\n}\n\n// 保存用户信息到服务器\nconst saveUserInfo = async () => {\n  try {\n    uni.showLoading({ title: '保存中...' })\n    \n    // 构建请求数据，转换表单数据为API格式\n    const requestData = {\n      name: formData.name.trim(),\n      phone_number: formData.phone,\n      email: formData.email,\n      unit: formData.unit.trim(),\n      department: formData.sectoral.trim(),\n      position: formData.career.trim(), // 职业直接使用输入的字符串\n      industry: formData.industryIndex !== -1 ? fieldstore.industory[formData.industryIndex] : ''\n    }\n    \n    // 如果需要手机验证码，添加验证码字段\n    if (needPhoneVerification.value) {\n      if (!formData.verifyCode) {\n        uni.hideLoading()\n        uni.showToast({\n          title: '请输入验证码',\n          icon: 'none'\n        })\n        return\n      }\n      requestData.verify_code = formData.verifyCode\n    }\n    \n    // 发送网络请求 - 请根据你的实际API地址修改\n    const response = await UserStore.updateinfo(requestData)\n\tconsole.log(\"response:\",response)\n    \n    // 检查响应结果\n    if (response.code === 200 ) { // 根据你的API响应格式调整\n      // 请求成功，更新原始手机号\n      originalPhone.value = formData.phone\n      needPhoneVerification.value = false\n      formData.verifyCode = ''\n      \n      isEditing.value = false\n      uni.hideLoading()\n      uni.showToast({\n        title: '保存成功',\n        icon: 'success'\n      })\n    } else {\n      // 请求失败\n      throw new Error(response.data.message || '保存失败')\n    }\n    \n  } catch (error) {\n    console.error('保存用户信息失败:', error)\n    uni.hideLoading()\n    uni.showToast({\n      title: error.message || '保存失败，请重试',\n      icon: 'none',\n      duration: 2000\n    })\n  }\n}\n\n// 处理编辑按钮点击\nconst handleEdit = async () => {\n  if (!isEditing.value) {\n    // 点击编辑按钮，显示确认提示\n    uni.showModal({\n      title: '编辑提示',\n      content: '表单编辑的内容会同步改变个人信息，是否继续编辑？',\n      confirmText: '确认',\n      cancelText: '取消',\n      success: (res) => {\n        if (res.confirm) {\n          isEditing.value = true\n        }\n      }\n    })\n  } else {\n    // 点击保存按钮\n    if (validateFormData()) {\n      await saveUserInfo()\n    }\n  }\n}\n\n// 发送验证码\nconst sendVerifyCode = async () => {\n  if (!formData.phone) {\n    uni.showToast({\n      title: '请先输入手机号码',\n      icon: 'none'\n    })\n    return\n  }\n\n  if (!/^1[3-9]\\d{9}$/.test(formData.phone)) {\n    uni.showToast({\n      title: '请输入正确的手机号码',\n      icon: 'none'\n    })\n    return\n  }\n\n  try {\n    uni.showLoading({ title: '发送中...' })\n    \n    // 这里调用实际的发送验证码API\n    // const response = await apiSendVerifyCode(formData.phone)\n    \n    // 开始倒计时\n    countDown.value = 60\n    const timer = setInterval(() => {\n      countDown.value--\n      if (countDown.value <= 0) {\n        clearInterval(timer)\n      }\n    }, 1000)\n\n    uni.hideLoading()\n    uni.showToast({\n      title: '验证码已发送',\n      icon: 'success'\n    })\n  } catch (error) {\n    uni.hideLoading()\n    uni.showToast({\n      title: '发送失败，请重试',\n      icon: 'none'\n    })\n  }\n}\n\n// 行业选择\nconst onIndustryChange = (e) => {\n  formData.industryIndex = e.detail.value\n}\n\n// 返回函数\nfunction onBack() {\n  uni.navigateBack();\n}\n\n// 表单数据验证（用于保存时）\nconst validateFormData = () => {\n  if (!formData.name.trim()) {\n    uni.showToast({ title: '请输入姓名', icon: 'none' })\n    return false\n  }\n\n  if (!formData.phone) {\n    uni.showToast({ title: '请输入手机号码', icon: 'none' })\n    return false\n  }\n\n  if (!/^1[3-9]\\d{9}$/.test(formData.phone)) {\n    uni.showToast({ title: '请输入正确的手机号码', icon: 'none' })\n    return false\n  }\n\n  // 如果需要验证码验证\n  if (needPhoneVerification.value && !formData.verifyCode) {\n    uni.showToast({ title: '请输入验证码', icon: 'none' })\n    return false\n  }\n\n  if (formData.email && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n    uni.showToast({ title: '请输入正确的邮箱格式', icon: 'none' })\n    return false\n  }\n\n  return true\n}\n\n// 表单提交验证（报名时使用，不需要验证码）\nconst validateForm = () => {\n  if (!formData.name.trim()) {\n    uni.showToast({ title: '请输入姓名', icon: 'none' })\n    return false\n  }\n\n  if (!formData.phone) {\n    uni.showToast({ title: '请输入手机号码', icon: 'none' })\n    return false\n  }\n\n  if (!/^1[3-9]\\d{9}$/.test(formData.phone)) {\n    uni.showToast({ title: '请输入正确的手机号码', icon: 'none' })\n    return false\n  }\n\n  if (!formData.email) {\n    uni.showToast({ title: '请输入邮箱地址', icon: 'none' })\n    return false\n  }\n\n  // 邮箱格式验证\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n  if (!emailRegex.test(formData.email)) {\n    uni.showToast({ title: '请输入正确的邮箱格式', icon: 'none' })\n    return false\n  }\n\n  if (!formData.unit.trim()) {\n    uni.showToast({ title: '请输入单位名称', icon: 'none' })\n    return false\n  }\n\n  if (!formData.career.trim()) {\n    uni.showToast({ title: '请输入职业', icon: 'none' })\n    return false\n  }\n\n  return true\n}\n\n// 提交表单\nconst handleSubmit = async() => {\n  if (isEditing.value) {\n    uni.showToast({\n      title: '请先保存编辑的内容',\n      icon: 'none'\n    })\n    return\n  }\n\n  if (!validateForm()) return\n\n  uni.showLoading({ title: '提交中...' })\n\n  // 模拟提交\n  try{\n\t  // id转成int  number型\n\t  console.log(\"报名的id:\",typeof( parseInt(id, 10)))\n\t  const res = await activityapply({\"event_id\":parseInt(id, 10)})\n\t  console.log(res)\n\t  if(res.code===200){\n\t\t  console.log(\"报名成功\")\n\t\tuni.showToast({\n\t\t      title: '报名成功！',\n\t\t      icon: 'success'\n\t\t    })\n\t  }\n\t   uni.navigateBack()\n  }catch(e){\n\t  console.log(e)\n  }finally{\n\t  uni.hideLoading()\n  }\n    \n    isSubmitted.value = true\n}\n\n// 在组件挂载时调用初始化函数\nonMounted(async() => {\r\n\tawait  fieldstore.getindustory()\n  initFormData()\n  \n})\n\nonLoad(async(option) => {\n\tconsole.log(\"申请详细option:\",option)\n\tid = decodeURIComponent(option.id)\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../style/detail.css\";\n.container {\n  min-height: 100vh;\n  background-color: #f5f5f5;\n}\n\n.banner-section {\n  position: relative;\n  width: 100%;\n  height: 400rpx;\n  \n  .banner-image {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n  \n  .banner-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.6));\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-end;\n    padding: 40rpx;\n    color: #ffffff;\n    \n    .event-title {\n      font-size: 42rpx;\n      font-weight: bold;\n      margin-bottom: 10rpx;\n    }\n    \n    .event-date {\n      font-size: 28rpx;\n      margin-bottom: 8rpx;\n    }\n    \n    .event-location {\n      font-size: 24rpx;\n      margin-bottom: 8rpx;\n      opacity: 0.9;\n    }\n    \n    .event-fee {\n      font-size: 26rpx;\n      color: #ffeb3b;\n      font-weight: bold;\n    }\n  }\n}\n\n.form-section {\n  background-color: #ffffff;\n  margin: 20rpx;\n  border-radius: 20rpx;\n  overflow: hidden;\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.05);\n}\n\n.form-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 40rpx 40rpx 20rpx;\n}\n\n.form-title {\n  font-size: 36rpx;\n  font-weight: bold;\n  color: #333333;\n}\n\n.edit-btn {\n  display: flex;\n  align-items: center;\n  gap: 8rpx;\n  padding: 16rpx 28rpx;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: #ffffff;\n  font-size: 26rpx;\n  border-radius: 50rpx;\n  border: none;\n  box-shadow: 0 4rpx 15rpx rgba(102, 126, 234, 0.4);\n  transition: all 0.3s ease;\n  \n  .btn-icon {\n    font-size: 28rpx;\n    font-weight: bold;\n  }\n  \n  .btn-text {\n    font-weight: 500;\n  }\n  \n  &.save-mode {\n    background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%);\n    box-shadow: 0 4rpx 15rpx rgba(78, 205, 196, 0.4);\n  }\n  \n  &:active {\n    transform: translateY(2rpx);\n    box-shadow: 0 2rpx 10rpx rgba(102, 126, 234, 0.3);\n    \n    &.save-mode {\n      box-shadow: 0 2rpx 10rpx rgba(78, 205, 196, 0.3);\n    }\n  }\n}\n\n.form-content {\n  padding: 0 40rpx;\n}\n\n.form-group {\n  margin-bottom: 40rpx;\n  \n  .group-title {\n    font-size: 32rpx;\n    font-weight: bold;\n    color: #333333;\n    margin-bottom: 30rpx;\n    padding-bottom: 16rpx;\n    border-bottom: 2rpx solid #f0f0f0;\n    position: relative;\n    \n    &::before {\n      content: '';\n      position: absolute;\n      left: 0;\n      bottom: -2rpx;\n      width: 60rpx;\n      height: 4rpx;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      border-radius: 2rpx;\n    }\n  }\n}\n\n.form-item {\n  margin-bottom: 40rpx;\n  \n  .label {\n    display: flex;\n    align-items: center;\n    gap: 4rpx;\n    font-size: 28rpx;\n    color: #333333;\n    margin-bottom: 16rpx;\n    font-weight: 500;\n    \n    .required {\n      color: #ff4757;\n      font-size: 26rpx;\n    }\n  }\n  \n  .input {\n    width: 100%;\n    height: 88rpx;\n    background-color: #f8f9fa;\n    border: 2rpx solid transparent;\n    border-radius: 12rpx;\n    padding: 0 20rpx;\n    font-size: 28rpx;\n    color: #333333;\n    box-sizing: border-box;\n    transition: all 0.3s ease;\n    \n    &.disabled {\n      background-color: #f0f0f0;\n      color: #999999;\n      border-color: transparent;\n    }\n    \n    &.editing {\n      background-color: #ffffff;\n      border-color: #667eea;\n      box-shadow: 0 0 0 4rpx rgba(102, 126, 234, 0.1);\n    }\n    \n    &.phone-input {\n      width: calc(100% - 220rpx);\n    }\n  }\n  \n  .placeholder {\n    color: #cccccc;\n  }\n  \n  .phone-input-wrapper {\n    display: flex;\n    align-items: center;\n    gap: 20rpx;\n    \n    .verify-btn {\n      width: 200rpx;\n      height: 88rpx;\n      background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);\n      color: #ffffff;\n      font-size: 24rpx;\n      border-radius: 12rpx;\n      border: none;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      white-space: nowrap;\n      flex-shrink: 0;\n      box-shadow: 0 2rpx 8rpx rgba(255, 107, 107, 0.3);\n      transition: all 0.3s ease;\n      \n      &.disabled,\n      &:disabled {\n        background: #cccccc;\n        color: #999999;\n        box-shadow: none;\n      }\n      \n      &:not(:disabled):not(.disabled):active {\n        background: linear-gradient(135deg, #ee5a52 0%, #de4343 100%);\n        transform: translateY(1rpx);\n      }\n    }\n  }\n  \n  .picker-input {\n    width: 100%;\n    height: 88rpx;\n    background-color: #f8f9fa;\n    border: 2rpx solid transparent;\n    border-radius: 12rpx;\n    padding: 0 20rpx;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    box-sizing: border-box;\n    transition: all 0.3s ease;\n    \n    &.disabled {\n      background-color: #f0f0f0;\n      border-color: transparent;\n      \n      .picker-text {\n        color: #999999;\n      }\n    }\n    \n    &.editing {\n      background-color: #ffffff;\n      border-color: #667eea;\n      box-shadow: 0 0 0 4rpx rgba(102, 126, 234, 0.1);\n    }\n    \n    .picker-text {\n      font-size: 28rpx;\n      color: #333333;\n      \n      &.placeholder {\n        color: #cccccc;\n      }\n    }\n    \n    .picker-arrow {\n      font-size: 24rpx;\n      color: #667eea;\n      font-weight: bold;\n      transition: transform 0.3s ease;\n    }\n  }\n}\n\n.submit-section {\n  padding: 20rpx 40rpx 40rpx;\n  \n  .submit-btn {\n    width: 100%;\n    height: 88rpx;\n    background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);\n    color: #ffffff;\n    font-size: 32rpx;\n    font-weight: bold;\n    border-radius: 12rpx;\n    border: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 0 4rpx 15rpx rgba(255, 107, 107, 0.4);\n    transition: all 0.3s ease;\n    \n    &.disabled,\n    &:disabled {\n      background: #cccccc;\n      color: #999999;\n      box-shadow: none;\n    }\n    \n    &:not(:disabled):not(.disabled):active {\n      background: linear-gradient(135deg, #ee5a52 0%, #de4343 100%);\n      transform: translateY(2rpx);\n      box-shadow: 0 2rpx 10rpx rgba(255, 107, 107, 0.3);\n    }\n  }\n}\n</style>","import MiniProgramPage from 'E:/project/uniapp/uniapp-news/pages/detail/applydetail.vue'\nwx.createPage(MiniProgramPage)"],"names":["usefieldstore","useEventstore","useInfoStore","ref","reactive","computed","uni","activityapply","onMounted","onLoad"],"mappings":"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"}