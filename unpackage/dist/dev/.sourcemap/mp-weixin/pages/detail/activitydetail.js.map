{"version":3,"file":"activitydetail.js","sources":["pages/detail/activitydetail.vue","D:/Hbuild/HBuilderX.4.64.2025042916/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZGV0YWlsL2FjdGl2aXR5ZGV0YWlsLnZ1ZQ"],"sourcesContent":["<template>\n\t<uni-nav-bar\n\t  statusBar=\"true\"\n\t  backgroundColor=\"#ff4757\"\n\t  fixed=\"true\"\n\t  :border=\"false\"\n\t  leftIcon=\"left\"\n\t  @clickLeft=\"onBack\"\n\t>\n\t  <!-- Â±Ö‰∏≠Ê†áÈ¢òÊèíÊßΩ -->\n\t  <template v-slot:default>\n\t    <view class=\"navbar-center\">\n\t      <text class=\"navbar-title\">Ê¥ªÂä®ËØ¶ÊÉÖ</text>\n\t    </view>\n\t  </template>\n\t</uni-nav-bar>\n  <view class=\"container\">\n    <!-- È°∂ÈÉ®ÂõæÁâáËΩÆÊí≠Âå∫Âüü -->\n    <view class=\"banner-section\">\n      <swiper class=\"banner-swiper\" indicator-dots=\"true\" autoplay=\"true\" interval=\"3000\" duration=\"500\">\n        <swiper-item v-for=\"image in EventStore.eventdetail.images\" :key=\"image.image_id\">\n          <image class=\"banner-image\" :src=\"image.url\" mode=\"aspectFill\"></image>\n        </swiper-item>\n      </swiper>\n    </view>\n\n    <!-- Ê¥ªÂä®‰ø°ÊÅØÂç°Áâá -->\n    <view class=\"content-card\">\n      <!-- Ê†áÈ¢ò -->\n      <view class=\"title\">{{ EventStore.eventdetail.title }}</view>\n      \n      <!-- Âü∫Êú¨‰ø°ÊÅØ -->\n      <view class=\"info-row\">\n        <view class=\"info-item\">\n          <text class=\"info-icon\">üìç</text>\n          <text class=\"info-text\">{{ EventStore.eventdetail.event_address }}</text>\n        </view>\n      </view>\n      \n      <view class=\"info-row\">\n        <view class=\"info-item\">\n          <text class=\"info-icon\">üìÖ</text>\n          <text class=\"info-text\">{{ formatEventDate(EventStore.eventdetail.event_start_time,EventStore.eventdetail.event_end_time)}}</text>\n        </view>\n      </view>\n      \n      <view class=\"info-row\">\n        <view class=\"info-item\">\n          <text class=\"info-icon\">üí∞</text>\n          <text class=\"info-text\">{{EventStore.eventdetail.registration_fee}}</text>\n        </view>\n      </view>\n\n      <!-- Ê¥ªÂä®ËØ¶ÊÉÖÊ†áÈ¢ò -->\n      <view class=\"section-title\">Ê¥ªÂä®ËØ¶ÊÉÖ</view>\n      \n      <!-- Ê¥ªÂä®ÊèèËø∞ -->\n      <view class=\"description\" v-html=\"EventStore.eventdetail.detail\">\n\t\t\n      </view>\n      \n      <!-- ÂèÇ‰ºöËØ¥Êòé -->\n<!--     <view class=\"attendee-info\">\n        {{ eventInfo.attendeeInfo }}\n      </view> -->\n\n      <!-- Êä•ÂêçÊåâÈíÆ -->\n      <view class=\"register-section\">\n        <button \n          class=\"register-btn\" \n          :class=\"{ 'register-btn-disabled': disable }\"\n          @click=\"handleRegister\" \n          :disabled=\"disable\"\n        >\n          ÂéªÊä•Âêç\n        </button>\n        <view class=\"deadline\">Êä•ÂêçÊà™Ê≠¢ {{ Dataformat(EventStore.eventdetail.registration_end_time) }}</view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\n\nimport { onLoad,onShow,onReady } from '@dcloudio/uni-app'\nimport {ref,onMounted,reactive} from 'vue'\nimport {useEventstore} from '@/store/Event.js'\nimport {useInfoStore} from '@/store/Info.js' \nimport {formatEventDate,Dataformat} from '@/utils/data.js'\r\n\n\nlet id=ref()\nconst disable=ref(true)\r\n// Ê†áÂøó‰ΩçÔºåÂà§Êñ≠ÊòØÂê¶Ê¥ªÂä®ËøáÊúüÔºåfalse‰∏∫Êó†ËøáÊúüÔºåtrue‰∏∫ËøáÊúü\r\nconst signal=ref(false)\n// ÂàùÂßãÂåñpinia\nconst EventStore=useEventstore()\r\n// ÂàùÂßãÂåñÁî®Êà∑store\nconst UserStore=useInfoStore()\r\n// ÊåâÈíÆÂêçÁß∞\r\n\r\n\nonLoad(async(option) => {\n\tconsole.log(\"option:\",option)\n id = decodeURIComponent(option.id)\n  disable.value = option.disable === 'true' // ËΩ¨Êç¢‰∏∫Â∏ÉÂ∞îÂÄº\n\tsignal.value=disable.value\r\n\t  EventStore.geteventdetail(id)\n \tconsole.log(\"Êé•Êî∂Âà∞ÁöÑIDÔºö\", typeof(id))\n \tconsole.log(\"ÊåâÈíÆÊòØÂê¶Á¶ÅÁî®Ôºö\", disable.value)\n \n})\r\nonShow(async()=>{\r\n\tawait UserStore.IsRegistered(id)\r\n\tconsole.log(\"ÊòØÂê¶Â∑≤ÁªèÊä•Âêç\",UserStore.isapply)\r\n\t\r\n\tif(!UserStore.isapply &&  !signal.value){\r\n\t\tconsole.log(\"Áî≥ËØ∑ÁïåÈù¢Ê≤°ÊúâÊä•Âêç\")\r\n\t\tdisable.value=false\r\n\t}else{\r\n\t\tconsole.log(\"Áî≥ËØ∑ÁïåÈù¢Â∑≤ÁªèÊä•Âêç\")\r\n\t\tdisable.value=true\r\n\t}\r\n\t\r\n})\r\n\r\n\n\n// ËΩÆÊí≠ÂõæÊï∞ÊçÆ\nconst bannerImages = ref([\n  'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg', // ÊõøÊç¢‰∏∫ÂÆûÈôÖÁöÑÂõæÁâáË∑ØÂæÑ\n  'https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg',\n  'https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg'\n])\n\n// Ê¥ªÂä®‰ø°ÊÅØÊï∞ÊçÆ\nconst eventInfo = reactive({\n  title: '‰∏≠ÂõΩÂ§ßÊ®°Âûã‰∫∫ÊâçÂ§ß‰ºöÁÅ´ÁÉ≠Êä•Âêç‰∏≠ÔºÅ',\n  location: 'Âåó‰∫¨‰∏≠ÂÖ≥Êùë',\n  date: '3Êúà15Êó•-4Êúà10Êó•',\n  fee: 'ÂÖçË¥π',\n  description: 'Âú®ÂÖ®ÁêÉ‰∫∫Â∑•Êô∫ËÉΩÊäÄÊúØËøÖÁåõÂèëÂ±ïÁöÑÊµ™ÊΩÆ‰∏ãÔºåÂ§ßÊ®°Âûã‰Ωú‰∏∫AIÈ¢ÜÂüüÁöÑÊ†∏ÂøÉÈ©±Âä®ÂäõÔºåÊ≠£Ê∑±ÂàªÈáçÂ°ë‰∫ß‰∏öÊ†ºÂ±Ä‰∏é‰∫∫ÊâçÈúÄÊ±Ç„ÄÇ‰∏∫‰øÉËøõÊäÄÊúØ‰∫§ÊµÅÔºåÊ±áËÅöÁ≤æËã±ÔºåÂÖ±‰∫´AIÁõõÂÆ¥Ôºå2024Âπ¥‰∏≠ÂõΩÂ§ßÊ®°Âûã‰∫∫ÊâçÂ§ß‰ºöÂ∞Ü‰∫éÂåó‰∫¨[Âú∫È¶Ü]ÈöÜÈáç‰∏æË°å„ÄÇÊú¨Ê¨°Â§ß‰ºö‰ª•\"Êô∫ËÅöÊú™Êù•ÔºåÂÖ±ÂàõAIÊñ∞Á∫™ÂÖÉ\"‰∏∫‰∏ªÈ¢òÔºåÊ±áËÅöÂõΩÂÜÖÂ§ñÈ°∂Â∞ñÂ≠¶ËÄÖ„ÄÅ‰ºÅ‰∏öÈ¢ÜË¢ñ‰∏éÊäÄÊúØÁ≤æËã±ÔºåÂÖ±ÂêåÊé¢ËÆ®Â§ßÊ®°ÂûãÊäÄÊúØÂâçÊ≤ø„ÄÅÂ∫îÁî®ËêΩÂú∞‰∏é‰∫∫ÊâçÁîüÊÄÅÂª∫ËÆæÔºåÂä©Âäõ‰∏≠ÂõΩAI‰∫ß‰∏öÈ´òË¥®ÈáèÂèëÂ±ï„ÄÇ',\n  attendeeInfo: 'Â§ß‰ºöÈÇÄËØ∑Ê∏ÖÂçéÂ§ßÂ≠¶„ÄÅÂåó‰∫¨Â§ßÂ≠¶Á≠âÈ´òÊ†°ÁöÑAIÈ¢ÜÂÜõÂ≠¶ËÄÖÔºå‰ª•ÂèäÊù•Ëá™ÁôæÂ∫¶„ÄÅÈòøÈáå„ÄÅÂ≠óËäÇË∑≥Âä®Á≠â‰ºÅ‰∏öÁöÑÊäÄÊúØË¥üË¥£‰∫∫ÔºåÂàÜ‰∫´Â§ßÊ®°ÂûãÁ†îÂèëÁöÑÊúÄÊñ∞Á™ÅÁ†¥‰∏éË°å‰∏öÂÆûË∑µÔºåÊ¥ªÂä®Ëç£Ëé∑Âæó‰∏ªÊàñÂõΩÂÆ∂Â•ñÂæó‰∏ªÊãÖ‰ªª[ÊãüÈÇÄËØ∑]Â∞ÜÂèëË°®‰∏ªÊó®ÊºîËÆ≤ÔºåÊé¢ËÆ®AIÊú™Êù•ÁöÑ‰º¶ÁêÜ‰∏éÊñπÂêë„ÄÇ',\n  deadline: '04/10 12:00'\n})\n\n// ËøîÂõûÂáΩÊï∞\nfunction onBack() {\n  uni.navigateBack();\n}\n\n// Êä•ÂêçÂ§ÑÁêÜÂáΩÊï∞\nconst handleRegister = () => {\n  // Â¶ÇÊûúÊåâÈíÆË¢´Á¶ÅÁî®ÔºåÁõ¥Êé•ËøîÂõû\n  if (disable.value) {\n    return;\n  }\n  \n  // Ê£ÄÊü•Áî®Êà∑ÊòØÂê¶ÁôªÂΩï\n  if (!UserStore.signal) { // ÂÅáËÆæ‰Ω†ÁöÑÁôªÂΩïÁä∂ÊÄÅÂ≠óÊÆµÂêç‰∏∫ isLoggedIn\n    uni.showModal({\n      title: 'ÊèêÁ§∫',\n      content: 'ËØ∑ÂÖàÁôªÂΩïÂêéÂÜçËøõË°åÊä•Âêç',\n      showCancel: true,\n      cancelText: 'ÂèñÊ∂à',\n      confirmText: 'ÂéªÁôªÂΩï',\n      success: (res) => {\n        if (res.confirm) {\n          // Áî®Êà∑ÁÇπÂáªÁ°ÆÂÆöÔºåË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µÈù¢\n          uni.switchTab({\r\n          \turl: '../mymessage/mymessage'\r\n          });\n        }\n      }\n    })\n    return;\n  }\n  \n  // Áî®Êà∑Â∑≤ÁôªÂΩïÔºåÂ§ÑÁêÜÊä•ÂêçÈÄªËæë\n  uni.showToast({\n    title: 'Ë∑≥ËΩ¨Âà∞Êä•ÂêçÈ°µÈù¢',\n    icon: 'none'\n  })\n  // Ë∑≥ËΩ¨Âà∞Êä•ÂêçÈ°µÈù¢\r\n  console.log(\"Ë∑≥ËΩ¨ÁöÑid:\",id)\n  uni.navigateTo({ url: `/pages/detail/applydetail?id=${id}` })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../style/detail.css\";\n\n.container {\n  background-color: #f5f5f5;\n}\n\n.banner-section {\n  width: 100%;\n  height: 400rpx;\n  \n  .banner-swiper {\n    width: 100%;\n    height: 100%;\n    \n    .banner-image {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n  }\n}\n\n.content-card {\n  background-color: #ffffff;\n  margin: 20rpx;\n  border-radius: 20rpx;\n  padding: 40rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.1);\n}\n\n.title {\n  font-size: 36rpx;\n  font-weight: bold;\n  color: #333333;\n  margin-bottom: 30rpx;\n  line-height: 1.4;\n}\n\n.info-row {\n  margin-bottom: 20rpx;\n  \n  .info-item {\n    display: flex;\n    align-items: center;\n    \n    .info-icon {\n      font-size: 28rpx;\n      margin-right: 16rpx;\n    }\n    \n    .info-text {\n      font-size: 28rpx;\n      color: #666666;\n    }\n  }\n}\n\n.section-title {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #333333;\n  margin: 40rpx 0 20rpx 0;\n}\n\n.description {\n  font-size: 28rpx;\n  color: #666666;\n  line-height: 1.6;\n  margin-bottom: 20rpx;\n  text-align: justify;\n}\n\n.attendee-info {\n  font-size: 28rpx;\n  color: #666666;\n  line-height: 1.6;\n  margin-bottom: 40rpx;\n  text-align: justify;\n}\n\n.register-section {\n  margin-top: 40rpx;\n  \n  .register-btn {\n    width: 100%;\n    height: 88rpx;\n    background-color: #e53e3e;\n    color: #ffffff;\n    font-size: 32rpx;\n    font-weight: bold;\n    border-radius: 12rpx;\n    border: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: 20rpx;\n    transition: background-color 0.3s ease; // Ê∑ªÂä†ËøáÊ∏°ÊïàÊûú\n    \n    &:active:not(.register-btn-disabled) {\n      background-color: #c53030;\n    }\n    \n    // Á¶ÅÁî®Áä∂ÊÄÅÊ†∑Âºè\n    &.register-btn-disabled {\n      background-color: #cccccc !important;\n      color: #999999 !important;\n      cursor: not-allowed;\n      \n      &:active {\n        background-color: #cccccc !important; // Á¶ÅÁî®Êó∂‰∏çÊîπÂèòÈ¢úËâ≤\n      }\n    }\n  }\n  \n  .deadline {\n    text-align: center;\n    font-size: 24rpx;\n    color: #999999;\n  }\n}\n\n// ËΩÆÊí≠ÂõæÊåáÁ§∫ÁÇπÊ†∑ÂºèË∞ÉÊï¥\n:deep(.uni-swiper-dot) {\n  background-color: rgba(255, 255, 255, 0.5);\n  width: 12rpx;\n  height: 12rpx;\n}\n\n:deep(.uni-swiper-dot-active) {\n  background-color: #ffffff;\n}\n</style>","import MiniProgramPage from 'E:/project/uniapp/uniapp-news/pages/detail/activitydetail.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","useEventstore","useInfoStore","onLoad","uni","onShow","reactive"],"mappings":";;;;;;;;;;;;;;;;AA2FA,QAAI,KAAGA,cAAAA,IAAK;AACZ,UAAM,UAAQA,cAAG,IAAC,IAAI;AAEtB,UAAM,SAAOA,cAAG,IAAC,KAAK;AAEtB,UAAM,aAAWC,YAAAA,cAAe;AAEhC,UAAM,YAAUC,WAAAA,aAAc;AAI9BC,kBAAM,OAAC,OAAM,WAAW;AACvBC,oBAAAA,6DAAY,WAAU,MAAM;AAC5B,WAAK,mBAAmB,OAAO,EAAE;AAChC,cAAQ,QAAQ,OAAO,YAAY;AACpC,aAAO,QAAM,QAAQ;AACnB,iBAAW,eAAe,EAAE;AAC7BA,iFAAY,WAAW,OAAO,EAAG;AACjCA,oBAAY,MAAA,MAAA,OAAA,0CAAA,WAAW,QAAQ,KAAK;AAAA,IAEtC,CAAC;AACDC,kBAAAA,OAAO,YAAS;AACf,YAAM,UAAU,aAAa,EAAE;AAC/BD,oBAAY,MAAA,MAAA,OAAA,0CAAA,UAAS,UAAU,OAAO;AAEtC,UAAG,CAAC,UAAU,WAAY,CAAC,OAAO,OAAM;AACvCA,sBAAAA,MAAA,MAAA,OAAA,0CAAY,UAAU;AACtB,gBAAQ,QAAM;AAAA,MAChB,OAAM;AACJA,sBAAAA,MAAA,MAAA,OAAA,0CAAY,UAAU;AACtB,gBAAQ,QAAM;AAAA,MACd;AAAA,IAEF,CAAC;AAKoBJ,kBAAAA,IAAI;AAAA,MACvB;AAAA;AAAA,MACA;AAAA,MACA;AAAA,IACF,CAAC;AAGiBM,kBAAAA,SAAS;AAAA,MACzB,OAAO;AAAA,MACP,UAAU;AAAA,MACV,MAAM;AAAA,MACN,KAAK;AAAA,MACL,aAAa;AAAA,MACb,cAAc;AAAA,MACd,UAAU;AAAA,IACZ,CAAC;AAGD,aAAS,SAAS;AAChBF,oBAAG,MAAC,aAAY;AAAA,IAClB;AAGA,UAAM,iBAAiB,MAAM;AAE3B,UAAI,QAAQ,OAAO;AACjB;AAAA,MACD;AAGD,UAAI,CAAC,UAAU,QAAQ;AACrBA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,YAAY;AAAA,UACZ,aAAa;AAAA,UACb,SAAS,CAAC,QAAQ;AAChB,gBAAI,IAAI,SAAS;AAEfA,4BAAAA,MAAI,UAAU;AAAA,gBACb,KAAK;AAAA,cAChB,CAAW;AAAA,YACF;AAAA,UACF;AAAA,QACP,CAAK;AACD;AAAA,MACD;AAGDA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,MACV,CAAG;AAEDA,oBAAAA,MAAA,MAAA,OAAA,0CAAY,UAAS,EAAE;AACvBA,oBAAG,MAAC,WAAW,EAAE,KAAK,gCAAgC,EAAE,IAAI;AAAA,IAC9D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzLA,GAAG,WAAW,eAAe;"}