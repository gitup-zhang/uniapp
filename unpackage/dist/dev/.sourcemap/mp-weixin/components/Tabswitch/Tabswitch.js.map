{"version":3,"file":"Tabswitch.js","sources":["components/Tabswitch/Tabswitch.vue","D:/Hbuild/HBuilderX.4.64.2025042916/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTovcHJvamVjdC91bmlhcHAvdW5pYXBwLW5ld3MvY29tcG9uZW50cy9UYWJzd2l0Y2gvVGFic3dpdGNoLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"tab-bar\">\n    <view\n      id=\"tab-policy\"\n      class=\"tab-item\"\n      :class=\"{ active: currentTab === 'policy' }\"\n      @click=\"changeTab('policy')\"\n    >\n      政府政策\n    </view>\n    <view\n      id=\"tab-news\"\n      class=\"tab-item\"\n      :class=\"{ active: currentTab === 'news' }\"\n      @click=\"changeTab('news')\"\n    >\n      行业新闻\n    </view>\n    <view class=\"tab-indicator\" :style=\"indicatorStyle\"></view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, watch, onMounted, nextTick } from 'vue'\n\n// props & emits\nconst props = defineProps({\n  modelValue: {\n    type: String,\n    default: 'policy'\n  }\n})\nconst emit = defineEmits(['update:modelValue'])\n\nconst currentTab = ref(props.modelValue)\nwatch(() => props.modelValue, val => {\n  currentTab.value = val\n  updateIndicator()\n})\n\n// 切换 tab 时更新状态并通知父组件\nfunction changeTab(tab) {\n  if (tab !== currentTab.value) {\n    currentTab.value = tab\n    emit('update:modelValue', tab)\n    updateIndicator()\n  }\n}\n\n// 动态滑块样式\nconst indicatorStyle = ref({})\n\n// 更新滑块位置\nfunction updateIndicator() {\n  nextTick(() => {\n    const id = currentTab.value === 'policy' ? '#tab-policy' : '#tab-news'\n    uni.createSelectorQuery()\n      .in(uni)\n      .select(id)\n      .boundingClientRect(rect => {\n        if (rect) {\n          indicatorStyle.value = {\n            width: rect.width + 'px',\n            left: rect.left + 'px'\n          }\n        }\n      })\n      .exec()\n  })\n}\n\nonMounted(() => {\n  updateIndicator()\n})\n</script>\n\n<style scoped>\n.tab-bar {\n  position: relative;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  height: 80rpx;\n  border-bottom: 1rpx solid #e5e5e5;\n  background-color: #ffffff;\n  padding-bottom: 10rpx;\n}\n\n.tab-item {\n  font-size: 30rpx;\n  font-weight: bold;\n  color: #999999;\n  padding: 10rpx 20rpx;\n}\n\n.tab-item.active {\n  color: #e60012;\n}\n\n.tab-indicator {\n  position: absolute;\n  bottom: 0;\n  height: 6rpx;\n  background-color: #e60012;\n  border-radius: 6rpx;\n  transition: all 0.3s ease;\n}\n</style>\n","import Component from 'E:/project/uniapp/uniapp-news/components/Tabswitch/Tabswitch.vue'\nwx.createComponent(Component)"],"names":["ref","watch","nextTick","uni","onMounted"],"mappings":";;;;;;;;;;;;AA0BA,UAAM,QAAQ;AAMd,UAAM,OAAO;AAEb,UAAM,aAAaA,cAAAA,IAAI,MAAM,UAAU;AACvCC,kBAAAA,MAAM,MAAM,MAAM,YAAY,SAAO;AACnC,iBAAW,QAAQ;AACnB,sBAAiB;AAAA,IACnB,CAAC;AAGD,aAAS,UAAU,KAAK;AACtB,UAAI,QAAQ,WAAW,OAAO;AAC5B,mBAAW,QAAQ;AACnB,aAAK,qBAAqB,GAAG;AAC7B,wBAAiB;AAAA,MAClB;AAAA,IACH;AAGA,UAAM,iBAAiBD,cAAG,IAAC,EAAE;AAG7B,aAAS,kBAAkB;AACzBE,oBAAAA,WAAS,MAAM;AACb,cAAM,KAAK,WAAW,UAAU,WAAW,gBAAgB;AAC3DC,sBAAAA,MAAI,oBAAqB,EACtB,GAAGA,cAAAA,KAAG,EACN,OAAO,EAAE,EACT,mBAAmB,UAAQ;AAC1B,cAAI,MAAM;AACR,2BAAe,QAAQ;AAAA,cACrB,OAAO,KAAK,QAAQ;AAAA,cACpB,MAAM,KAAK,OAAO;AAAA,YACnB;AAAA,UACF;AAAA,QACT,CAAO,EACA,KAAM;AAAA,MACb,CAAG;AAAA,IACH;AAEAC,kBAAAA,UAAU,MAAM;AACd,sBAAiB;AAAA,IACnB,CAAC;;;;;;;;;;;;;ACxED,GAAG,gBAAgB,SAAS;"}