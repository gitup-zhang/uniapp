{"version":3,"file":"app.js","sources":["App.vue","main.js"],"sourcesContent":["<script setup>\r\n\timport { onLaunch } from '@dcloudio/uni-app'\n\t// export default {\n\t// \tonLaunch: function() {\r\n\t\t\t\r\n\t\t\t\n\t// \t\tconsole.log('App Launch')\n\t// \t},\n\t// \tonShow: function() {\n\t// \t\tconsole.log('App Show')\n\t// \t},\n\t// \tonHide: function() {\n\t// \t\tconsole.log('App Hide')\n\t// \t}\n\t// }\r\n\timport { useInfoStore } from '@/store/Info.js'\r\n\t\r\n\tonLaunch(async () => {\r\n\t  const infoStore = useInfoStore()\r\n\t  const localToken = uni.getStorageSync('token')\r\n\t\r\n\t  if (localToken) {\r\n\t    infoStore.token = localToken\r\n\t    infoStore.signal = true\r\n\t    try {\r\n\t      await infoStore.getinfo()\r\n\t      console.log('登录状态恢复成功')\r\n\t    } catch (e) {\r\n\t\t\tconsole.log(e)\r\n\t      console.log('用户信息拉取失败，清除登录状态')\r\n\t      infoStore.deleteinfo()\r\n\t    }\r\n\t  } else {\r\n\t    console.log('本地无登录状态')\r\n\t  }\r\n\t})\r\n\t\n</script>\n\n<style>\n\t/*每个页面公共css */\r\n\t@import \"style/colorui/icon.css\";\r\n\t@import \"style/colorui/main.css\"\n</style>\n","import App from './App'\n\n// #ifndef VUE3\nimport Vue from 'vue'\nimport './uni.promisify.adaptor'\n// 导入Pinia\nimport * as Pinia from 'pinia'\nVue.config.productionTip = false\nVue.use(Pinia.createPinia()) // ✅ Vue2 中注册 Pinia\n\nApp.mpType = 'app'\nconst app = new Vue({\n  ...App\n})\napp.$mount()\n// #endif\n\n// #ifdef VUE3\nimport { createSSRApp } from 'vue'\nimport * as Pinia from 'pinia'  // ✅ Vue3 中导入 Pinia\nexport function createApp() {\n  const app = createSSRApp(App)\n  app.use(Pinia.createPinia())\n  return {\n    app,\n\tPinia\n  }\n}\n// #endif"],"names":["onLaunch","useInfoStore","uni","createSSRApp","App","Pinia.createPinia","Pinia"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAiBCA,kBAAAA,SAAS,YAAY;AACnB,YAAM,YAAYC,WAAAA,aAAc;AAChC,YAAM,aAAaC,cAAAA,MAAI,eAAe,OAAO;AAE7C,UAAI,YAAY;AACd,kBAAU,QAAQ;AAClB,kBAAU,SAAS;AACnB,YAAI;AACF,gBAAM,UAAU,QAAS;AACzBA,wBAAAA,oCAAY,UAAU;AAAA,QACvB,SAAQ,GAAG;AACdA,wBAAAA,MAAY,MAAA,OAAA,iBAAA,CAAC;AACTA,wBAAAA,MAAY,MAAA,OAAA,iBAAA,iBAAiB;AAC7B,oBAAU,WAAY;AAAA,QACvB;AAAA,MACN,OAAU;AACLA,sBAAAA,oCAAY,SAAS;AAAA,MACtB;AAAA,IACJ,CAAE;;;;;ACfK,SAAS,YAAY;AAC1B,QAAM,MAAMC,cAAY,aAACC,SAAG;AAC5B,MAAI,IAAIC,cAAAA,aAAmB;AAC3B,SAAO;AAAA,IACL;AAAA,IACJ,OAACC,cAAK;AAAA,EACH;AACH;;;"}