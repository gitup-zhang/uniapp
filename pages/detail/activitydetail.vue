<template>
	<uni-nav-bar
	  statusBar="true"
	  backgroundColor="#903749"
	  fixed="true"
	  :border="false"
	  leftIcon="left"
	  @clickLeft="onBack"
	>
	  <!-- å±…ä¸­æ ‡é¢˜æ’æ§½ -->
	  <template v-slot:default>
	    <view class="navbar-center">
	      <text class="navbar-title">æ´»åŠ¨è¯¦æƒ…</text>
	    </view>
	  </template>
	</uni-nav-bar>
  <view class="container">
    <!-- é¡¶éƒ¨å›¾ç‰‡è½®æ’­åŒºåŸŸ -->
    <view class="banner-section">
      <swiper class="banner-swiper" indicator-dots="true" autoplay="true" interval="3000" duration="500">
        <swiper-item v-for="(image, index) in bannerImages" :key="index">
          <image class="banner-image" :src="image" mode="aspectFill"></image>
        </swiper-item>
      </swiper>
    </view>

    <!-- æ´»åŠ¨ä¿¡æ¯å¡ç‰‡ -->
    <view class="content-card">
      <!-- æ ‡é¢˜ -->
      <view class="title">{{ eventInfo.title }}</view>
      
      <!-- åŸºæœ¬ä¿¡æ¯ -->
      <view class="info-row">
        <view class="info-item">
          <text class="info-icon">ğŸ“</text>
          <text class="info-text">{{ eventInfo.location }}</text>
        </view>
      </view>
      
      <view class="info-row">
        <view class="info-item">
          <text class="info-icon">ğŸ“…</text>
          <text class="info-text">{{ eventInfo.date }}</text>
        </view>
      </view>
      
      <view class="info-row">
        <view class="info-item">
          <text class="info-icon">ğŸ’°</text>
          <text class="info-text">{{ eventInfo.fee }}</text>
        </view>
      </view>

      <!-- æ´»åŠ¨è¯¦æƒ…æ ‡é¢˜ -->
      <view class="section-title">æ´»åŠ¨è¯¦æƒ…</view>
      
      <!-- æ´»åŠ¨æè¿° -->
      <view class="description">
        {{ eventInfo.description }}
      </view>
      
      <!-- å‚ä¼šè¯´æ˜ -->
      <view class="attendee-info">
        {{ eventInfo.attendeeInfo }}
      </view>

      <!-- æŠ¥åæŒ‰é’® -->
      <view class="register-section">
        <button class="register-btn" @click="handleRegister">å»æŠ¥å</button>
        <view class="deadline">æŠ¥åæˆªæ­¢ {{ eventInfo.deadline }}</view>
      </view>
    </view>
  </view>
</template>

<script setup>
import { ref, reactive } from 'vue'

// è½®æ’­å›¾æ•°æ®
const bannerImages = ref([
  'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg', // æ›¿æ¢ä¸ºå®é™…çš„å›¾ç‰‡è·¯å¾„
  'https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg',
  'https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg'
])

// æ´»åŠ¨ä¿¡æ¯æ•°æ®
const eventInfo = reactive({
  title: 'ä¸­å›½å¤§æ¨¡å‹äººæ‰å¤§ä¼šç«çƒ­æŠ¥åä¸­ï¼',
  location: 'åŒ—äº¬ä¸­å…³æ‘',
  date: '3æœˆ15æ—¥-4æœˆ10æ—¥',
  fee: 'å…è´¹',
  description: 'åœ¨å…¨çƒäººå·¥æ™ºèƒ½æŠ€æœ¯è¿…çŒ›å‘å±•çš„æµªæ½®ä¸‹ï¼Œå¤§æ¨¡å‹ä½œä¸ºAIé¢†åŸŸçš„æ ¸å¿ƒé©±åŠ¨åŠ›ï¼Œæ­£æ·±åˆ»é‡å¡‘äº§ä¸šæ ¼å±€ä¸äººæ‰éœ€æ±‚ã€‚ä¸ºä¿ƒè¿›æŠ€æœ¯äº¤æµï¼Œæ±‡èšç²¾è‹±ï¼Œå…±äº«AIç››å®´ï¼Œ2024å¹´ä¸­å›½å¤§æ¨¡å‹äººæ‰å¤§ä¼šå°†äºåŒ—äº¬[åœºé¦†]éš†é‡ä¸¾è¡Œã€‚æœ¬æ¬¡å¤§ä¼šä»¥"æ™ºèšæœªæ¥ï¼Œå…±åˆ›AIæ–°çºªå…ƒ"ä¸ºä¸»é¢˜ï¼Œæ±‡èšå›½å†…å¤–é¡¶å°–å­¦è€…ã€ä¼ä¸šé¢†è¢–ä¸æŠ€æœ¯ç²¾è‹±ï¼Œå…±åŒæ¢è®¨å¤§æ¨¡å‹æŠ€æœ¯å‰æ²¿ã€åº”ç”¨è½åœ°ä¸äººæ‰ç”Ÿæ€å»ºè®¾ï¼ŒåŠ©åŠ›ä¸­å›½AIäº§ä¸šé«˜è´¨é‡å‘å±•ã€‚',
  attendeeInfo: 'å¤§ä¼šé‚€è¯·æ¸…åå¤§å­¦ã€åŒ—äº¬å¤§å­¦ç­‰é«˜æ ¡çš„AIé¢†å†›å­¦è€…ï¼Œä»¥åŠæ¥è‡ªç™¾åº¦ã€é˜¿é‡Œã€å­—èŠ‚è·³åŠ¨ç­‰ä¼ä¸šçš„æŠ€æœ¯è´Ÿè´£äººï¼Œåˆ†äº«å¤§æ¨¡å‹ç ”å‘çš„æœ€æ–°çªç ´ä¸è¡Œä¸šå®è·µï¼Œæ´»åŠ¨è£è·å¾—ä¸»æˆ–å›½å®¶å¥–å¾—ä¸»æ‹…ä»»[æ‹Ÿé‚€è¯·]å°†å‘è¡¨ä¸»æ—¨æ¼”è®²ï¼Œæ¢è®¨AIæœªæ¥çš„ä¼¦ç†ä¸æ–¹å‘ã€‚',
  deadline: '04/10 12:00'
})
// è¿”å›å‡½æ•°
function onBack() {
  uni.navigateBack();
}
// æŠ¥åå¤„ç†å‡½æ•°
const handleRegister = () => {
  // å¤„ç†æŠ¥åé€»è¾‘
  uni.showToast({
    title: 'è·³è½¬åˆ°æŠ¥åé¡µé¢',
    icon: 'none'
  })
  // è¿™é‡Œå¯ä»¥æ·»åŠ è·³è½¬åˆ°æŠ¥åé¡µé¢çš„é€»è¾‘
  uni.navigateTo({ url: '/pages/detail/applydetail' })
}
</script>

<style lang="scss" scoped>
@import "../../style/detail.css";
.container {
  min-height: 100vh;
  background-color: #f5f5f5;
}

.banner-section {
  width: 100%;
  height: 400rpx;
  
  .banner-swiper {
    width: 100%;
    height: 100%;
    
    .banner-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  }
}

.content-card {
  background-color: #ffffff;
  margin: 20rpx;
  border-radius: 20rpx;
  padding: 40rpx;
  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.1);
}

.title {
  font-size: 36rpx;
  font-weight: bold;
  color: #333333;
  margin-bottom: 30rpx;
  line-height: 1.4;
}

.info-row {
  margin-bottom: 20rpx;
  
  .info-item {
    display: flex;
    align-items: center;
    
    .info-icon {
      font-size: 28rpx;
      margin-right: 16rpx;
    }
    
    .info-text {
      font-size: 28rpx;
      color: #666666;
    }
  }
}

.section-title {
  font-size: 32rpx;
  font-weight: bold;
  color: #333333;
  margin: 40rpx 0 20rpx 0;
}

.description {
  font-size: 28rpx;
  color: #666666;
  line-height: 1.6;
  margin-bottom: 20rpx;
  text-align: justify;
}

.attendee-info {
  font-size: 28rpx;
  color: #666666;
  line-height: 1.6;
  margin-bottom: 40rpx;
  text-align: justify;
}

.register-section {
  margin-top: 40rpx;
  
  .register-btn {
    width: 100%;
    height: 88rpx;
    background-color: #e53e3e;
    color: #ffffff;
    font-size: 32rpx;
    font-weight: bold;
    border-radius: 12rpx;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 20rpx;
    
    &:active {
      background-color: #c53030;
    }
  }
  
  .deadline {
    text-align: center;
    font-size: 24rpx;
    color: #999999;
  }
}

// è½®æ’­å›¾æŒ‡ç¤ºç‚¹æ ·å¼è°ƒæ•´
:deep(.uni-swiper-dot) {
  background-color: rgba(255, 255, 255, 0.5);
  width: 12rpx;
  height: 12rpx;
}

:deep(.uni-swiper-dot-active) {
  background-color: #ffffff;
}
</style>